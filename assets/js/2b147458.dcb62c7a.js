"use strict";(self.webpackChunkcentrifugal_dev=self.webpackChunkcentrifugal_dev||[]).push([[5986],{28453:(e,n,i)=>{i.d(n,{R:()=>r,x:()=>a});var s=i(96540);const d={},t=s.createContext(d);function r(e){const n=s.useContext(t);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(d):e.components||d:r(e.components),s.createElement(t.Provider,{value:n},e.children)}},37887:(e,n,i)=>{i.d(n,{A:()=>s});const s=i.p+"assets/images/admin_three_nodes-7cde31543f1ae091cd8de008ea98f245.png"},57381:(e,n,i)=>{i.d(n,{A:()=>s});const s=i.p+"assets/images/quick_start_admin_v5-52b31f2dfd00de4c5169e2b24c71bd1f.png"},66474:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>o,contentTitle:()=>a,default:()=>h,frontMatter:()=>r,metadata:()=>s,toc:()=>c});const s=JSON.parse('{"id":"server/admin_web","title":"Admin web UI","description":"Centrifugo comes with a built-in administrative web interface. It enables users to:","source":"@site/docs/server/admin_web.md","sourceDirName":"server","slug":"/server/admin_web","permalink":"/docs/server/admin_web","draft":false,"unlisted":false,"editUrl":"https://github.com/centrifugal/centrifugal.dev/edit/main/docs/server/admin_web.md","tags":[],"version":"current","frontMatter":{"id":"admin_web","title":"Admin web UI"},"sidebar":"Guides","previous":{"title":"Proxy subscription streams","permalink":"/docs/server/proxy_streams"},"next":{"title":"Server observability","permalink":"/docs/server/observability"}}');var d=i(74848),t=i(28453);const r={id:"admin_web",title:"Admin web UI"},a=void 0,o={},c=[{value:"How to enable",id:"how-to-enable",level:2},{value:"<code>admin</code>",id:"admin",level:2},{value:"<code>admin.enabled</code>",id:"adminenabled",level:3},{value:"<code>admin.password</code>",id:"adminpassword",level:3},{value:"<code>admin.secret</code>",id:"adminsecret",level:3},{value:"<code>admin.insecure</code>",id:"admininsecure",level:3},{value:"<code>admin.handler_prefix</code>",id:"adminhandler_prefix",level:3},{value:"<code>admin.web_path</code>",id:"adminweb_path",level:3},{value:"<code>admin.web_proxy_address</code>",id:"adminweb_proxy_address",level:3},{value:"<code>admin.external</code>",id:"adminexternal",level:3},{value:"Using custom web interface",id:"using-custom-web-interface",level:2},{value:"Admin insecure mode",id:"admin-insecure-mode",level:2}];function l(e){const n={a:"a",admonition:"admonition",code:"code",h2:"h2",h3:"h3",img:"img",li:"li",p:"p",pre:"pre",ul:"ul",...(0,t.R)(),...e.components};return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(n.p,{children:"Centrifugo comes with a built-in administrative web interface. It enables users to:"}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsx)(n.li,{children:"Display general information and statistics from server nodes - including the number of connections, unique users, subscriptions, and unique channels, among others"}),"\n",(0,d.jsxs)(n.li,{children:["Execute commands such as ",(0,d.jsx)(n.code,{children:"publish"}),", ",(0,d.jsx)(n.code,{children:"broadcast"}),", ",(0,d.jsx)(n.code,{children:"subscribe"}),", ",(0,d.jsx)(n.code,{children:"unsubscribe"}),", ",(0,d.jsx)(n.code,{children:"disconnect"}),", ",(0,d.jsx)(n.code,{children:"history"}),", ",(0,d.jsx)(n.code,{children:"history_remove"}),", ",(0,d.jsx)(n.code,{children:"presence"}),", ",(0,d.jsx)(n.code,{children:"presence_stats"}),", ",(0,d.jsx)(n.code,{children:"info"}),", ",(0,d.jsx)(n.code,{children:"channels"}),", along with several additional Centrifugo PRO server API commands."]}),"\n",(0,d.jsxs)(n.li,{children:["Trace connections in real-time (a feature of ",(0,d.jsx)(n.a,{href:"/docs/pro/overview",children:"Centrifugo PRO"}),")."]}),"\n",(0,d.jsx)(n.li,{children:"View analytics widgets (a feature of Centrifugo PRO)."}),"\n",(0,d.jsx)(n.li,{children:"Visualize registered devices for push notifications (a feature of Centrifugo PRO)."}),"\n"]}),"\n",(0,d.jsx)(n.h2,{id:"how-to-enable",children:"How to enable"}),"\n",(0,d.jsxs)(n.p,{children:["To activate the administrative web interface, run Centrifugo with the ",(0,d.jsx)(n.code,{children:"admin"})," UI enabled and configure security settings in the configuration file:"]}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-json",metastring:'title="config.json"',children:'{\n  "admin": {\n    "enabled": true,\n    "password": "<PASSWORD>",\n    "secret": "<SECRET>"\n  }\n}\n'})}),"\n",(0,d.jsxs)(n.p,{children:["After configuring, restart Centrifugo and go to ",(0,d.jsx)(n.a,{href:"http://localhost:8000",children:"http://localhost:8000"})," (by default) - you should see web interface."]}),"\n",(0,d.jsx)(n.admonition,{type:"tip",children:(0,d.jsx)(n.p,{children:"Although there is a password based authentication a good advice is to protect web interface by firewall rules in production."})}),"\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.img,{alt:"Admin web panel",src:i(57381).A+"",width:"2378",height:"1304"}),"\nLog in using ",(0,d.jsx)(n.code,{children:"admin.password"})," value:\n",(0,d.jsx)(n.img,{alt:"Admin web panel",src:i(37887).A+"",width:"2528",height:"1246"})]}),"\n",(0,d.jsx)(n.admonition,{type:"tip",children:(0,d.jsxs)(n.p,{children:["Centrifugo PRO ",(0,d.jsx)(n.a,{href:"/docs/pro/admin_idp_auth",children:"supports Single Sign-On"})," (SSO) authentication for web interface using OpenID Connect (OIDC) protocol."]})}),"\n",(0,d.jsx)(n.h2,{id:"admin",children:(0,d.jsx)(n.code,{children:"admin"})}),"\n",(0,d.jsx)(n.h3,{id:"adminenabled",children:(0,d.jsx)(n.code,{children:"admin.enabled"})}),"\n",(0,d.jsxs)(n.p,{children:["Boolean, default: ",(0,d.jsx)(n.code,{children:"false"}),"."]}),"\n",(0,d.jsx)(n.p,{children:"Enables the admin web interface."}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-json",metastring:'title="config.json"',children:'{\n    "admin": {\n        "enabled": true\n    }\n}\n'})}),"\n",(0,d.jsx)(n.h3,{id:"adminpassword",children:(0,d.jsx)(n.code,{children:"admin.password"})}),"\n",(0,d.jsxs)(n.p,{children:["String, default: ",(0,d.jsx)(n.code,{children:'""'}),"."]}),"\n",(0,d.jsx)(n.p,{children:"This is the password to log into the admin web interface."}),"\n",(0,d.jsx)(n.p,{children:"Make it strong and keep it in secret!"}),"\n",(0,d.jsx)(n.h3,{id:"adminsecret",children:(0,d.jsx)(n.code,{children:"admin.secret"})}),"\n",(0,d.jsxs)(n.p,{children:["String, default: ",(0,d.jsx)(n.code,{children:'""'}),"."]}),"\n",(0,d.jsx)(n.p,{children:"This is the secret key for the authentication token used after successful login."}),"\n",(0,d.jsx)(n.p,{children:"Make it strong and keep it in secret!"}),"\n",(0,d.jsx)(n.h3,{id:"admininsecure",children:(0,d.jsx)(n.code,{children:"admin.insecure"})}),"\n",(0,d.jsxs)(n.p,{children:["Boolean, default: ",(0,d.jsx)(n.code,{children:"false"}),"."]}),"\n",(0,d.jsx)(n.p,{children:"Enables insecure mode for the admin web interface. In this mode, no authentication is required to connect to the web interface or make requests to the admin API. Admin resources must be protected by firewall rules in production when this option is enabled, otherwise, everyone from the internet can make admin actions."}),"\n",(0,d.jsxs)(n.p,{children:["See ",(0,d.jsx)(n.a,{href:"#admin-insecure-mode",children:"Admin insecure mode"})," for more details."]}),"\n",(0,d.jsx)(n.h3,{id:"adminhandler_prefix",children:(0,d.jsx)(n.code,{children:"admin.handler_prefix"})}),"\n",(0,d.jsxs)(n.p,{children:["String, default: ",(0,d.jsx)(n.code,{children:'""'}),"."]}),"\n",(0,d.jsxs)(n.p,{children:["Customize handler prefix for admin web interface. By default, the admin web interface is served at the root path ",(0,d.jsx)(n.code,{children:"/"}),". If you want to serve the admin web interface at a different path, you can set this option to the desired path, ex.:"]}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-json",metastring:'title="config.json"',children:'{\n  "admin": {\n    ...\n    "handler_prefix": "/admin"\n  }\n}\n'})}),"\n",(0,d.jsx)(n.h3,{id:"adminweb_path",children:(0,d.jsx)(n.code,{children:"admin.web_path"})}),"\n",(0,d.jsxs)(n.p,{children:["String, default: ",(0,d.jsx)(n.code,{children:'""'}),"."]}),"\n",(0,d.jsxs)(n.p,{children:["Path to the admin web application to serve. If not set then the built-in web interface will be used. See ",(0,d.jsx)(n.a,{href:"#using-custom-web-interface",children:"Using custom web interface"})," for more details."]}),"\n",(0,d.jsx)(n.h3,{id:"adminweb_proxy_address",children:(0,d.jsx)(n.code,{children:"admin.web_proxy_address"})}),"\n",(0,d.jsxs)(n.p,{children:["String, default: ",(0,d.jsx)(n.code,{children:'""'}),"."]}),"\n",(0,d.jsx)(n.p,{children:"An address for proxying to the running admin web application app. So it's possible to run the web app in dev mode and point Centrifugo to its address for development purposes."}),"\n",(0,d.jsx)(n.h3,{id:"adminexternal",children:(0,d.jsx)(n.code,{children:"admin.external"})}),"\n",(0,d.jsxs)(n.p,{children:["Boolean, default: ",(0,d.jsx)(n.code,{children:"false"}),"."]}),"\n",(0,d.jsx)(n.p,{children:"A flag to run the admin interface on an external port."}),"\n",(0,d.jsx)(n.h2,{id:"using-custom-web-interface",children:"Using custom web interface"}),"\n",(0,d.jsx)(n.p,{children:"If you want to use custom web interface you can specify path to web interface directory dist:"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-json",metastring:'title="config.json"',children:'{\n  "admin": {\n    "enabled": true,\n    "password": "<PASSWORD>",\n    "secret": "<SECRET>",\n    "web_path": "<PATH_TO_WEB_DIST>"\n  }\n}\n'})}),"\n",(0,d.jsxs)(n.p,{children:["This can be useful if you want to modify official ",(0,d.jsx)(n.a,{href:"https://github.com/centrifugal/web",children:"web interface code"})," in some way and test it with Centrifugo."]}),"\n",(0,d.jsx)(n.h2,{id:"admin-insecure-mode",children:"Admin insecure mode"}),"\n",(0,d.jsx)(n.admonition,{title:"INSECURE OPTION.",type:"danger",children:(0,d.jsx)(n.p,{children:"This option is insecure and mostly intended for development. In case of using in production \u2013 please make sure you understand the possible security risks."})}),"\n",(0,d.jsxs)(n.p,{children:["There is also an option to run Centrifugo in insecure admin mode. In this mode, it's unnecessary to set ",(0,d.jsx)(n.code,{children:"admin.password"})," and ",(0,d.jsx)(n.code,{children:"admin.secret"})," in the configuration \u2013 you will be automatically logged into the web interface without any password. Note that this mode should only be considered for production if you have protected the admin web interface with firewall rules. Without such protection, anyone on the internet would have full access to the admin functionalities described above. To enable insecure admin mode:"]}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-json",metastring:'title="config.json"',children:'{\n  "admin": {\n    "enabled": true,\n    "insecure": true\n  }\n}\n'})})]})}function h(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,d.jsx)(n,{...e,children:(0,d.jsx)(l,{...e})}):l(e)}}}]);
"use strict";(self.webpackChunkcentrifugal_dev=self.webpackChunkcentrifugal_dev||[]).push([[9240],{7042:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>l,contentTitle:()=>s,default:()=>u,frontMatter:()=>o,metadata:()=>a,toc:()=>c});var r=i(85893),t=i(11151);const o={id:"install_and_run",title:"Install and run PRO version"},s=void 0,a={id:"pro/install_and_run",title:"Install and run PRO version",description:"Centrifugo PRO is distributed by Centrifugal Labs LTD under commercial license which is different from OSS version. By downloading Centrifugo PRO you automatically accept commercial license terms.",source:"@site/docs/pro/install_and_run.md",sourceDirName:"pro",slug:"/pro/install_and_run",permalink:"/docs/pro/install_and_run",draft:!1,unlisted:!1,editUrl:"https://github.com/centrifugal/centrifugal.dev/edit/main/docs/pro/install_and_run.md",tags:[],version:"current",frontMatter:{id:"install_and_run",title:"Install and run PRO version"},sidebar:"Pro",previous:{title:"Centrifugo PRO",permalink:"/docs/pro/overview"},next:{title:"User and channel tracing",permalink:"/docs/pro/tracing"}},l={},c=[{value:"Binary release",id:"binary-release",level:3},{value:"Docker image",id:"docker-image",level:3},{value:"Kubernetes",id:"kubernetes",level:3},{value:"Debian and Ubuntu",id:"debian-and-ubuntu",level:3},{value:"Centos",id:"centos",level:3},{value:"Setting PRO license key",id:"setting-pro-license-key",level:2}];function d(e){const n={a:"a",admonition:"admonition",code:"code",h2:"h2",h3:"h3",p:"p",pre:"pre",...(0,t.a)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.admonition,{title:"Centrifugo PRO license agreement",type:"caution",children:(0,r.jsxs)(n.p,{children:["Centrifugo PRO is distributed by Centrifugal Labs LTD under ",(0,r.jsx)(n.a,{href:"/license",children:"commercial license"})," which is different from OSS version. By downloading Centrifugo PRO you automatically accept commercial license terms."]})}),"\n",(0,r.jsx)(n.h3,{id:"binary-release",children:"Binary release"}),"\n",(0,r.jsxs)(n.p,{children:["Centrifugo PRO binary releases ",(0,r.jsx)(n.a,{href:"https://github.com/centrifugal/centrifugo-pro/releases",children:"available on Github"}),". Note that we use a separate repo for PRO releases. Download latest release for your operating system, unpack it and run (see how to set license key ",(0,r.jsx)(n.a,{href:"#setting-pro-license-key",children:"below"}),")."]}),"\n",(0,r.jsxs)(n.p,{children:["If you doubt which distribution you need, then on Linux or MacOS you can use the following command to download and unpack ",(0,r.jsx)(n.code,{children:"centrifugo"})," binary to your current working directory:"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-shell",children:"curl -sSLf https://centrifugal.dev/install_pro.sh | sh\n"})}),"\n",(0,r.jsx)(n.h3,{id:"docker-image",children:"Docker image"}),"\n",(0,r.jsxs)(n.p,{children:["Centrifugo PRO uses a different image from OSS version \u2013 ",(0,r.jsx)(n.a,{href:"https://hub.docker.com/repository/docker/centrifugo/centrifugo-pro",children:"centrifugo/centrifugo-pro"}),":"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"docker run --ulimit nofile=262144:262144 -v /host/dir/with/config/file:/centrifugo -p 8000:8000 centrifugo/centrifugo-pro:v5.3.3 centrifugo -c config.json\n"})}),"\n",(0,r.jsx)(n.h3,{id:"kubernetes",children:"Kubernetes"}),"\n",(0,r.jsxs)(n.p,{children:["You can use our ",(0,r.jsx)(n.a,{href:"https://github.com/centrifugal/helm-charts",children:"official Helm chart"})," but make sure you changed Docker image to use PRO version and point to the correct image tag:"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-yaml",metastring:'title="values.yaml"',children:"...\nimage:\n  registry: docker.io\n  repository: centrifugo/centrifugo-pro\n  tag: v5.3.3\n"})}),"\n",(0,r.jsx)(n.h3,{id:"debian-and-ubuntu",children:"Debian and Ubuntu"}),"\n",(0,r.jsxs)(n.p,{children:["DEB package ",(0,r.jsx)(n.a,{href:"https://github.com/centrifugal/centrifugo-pro/releases",children:"available in release assets"}),"."]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"wget https://github.com/centrifugal/centrifugo-pro/releases/download/v5.3.3/centrifugo-pro_5.1.2_amd64.deb\nsudo dpkg -i centrifugo-pro_5.1.2_amd64.deb\n"})}),"\n",(0,r.jsx)(n.h3,{id:"centos",children:"Centos"}),"\n",(0,r.jsxs)(n.p,{children:["RPM package ",(0,r.jsx)(n.a,{href:"https://github.com/centrifugal/centrifugo-pro/releases",children:"available in release assets"}),"."]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"wget https://github.com/centrifugal/centrifugo-pro/releases/download/v5.3.3/centrifugo-pro-5.1.2.x86_64.rpm\nsudo yum install centrifugo-pro-5.1.2.x86_64.rpm\n"})}),"\n",(0,r.jsx)(n.h2,{id:"setting-pro-license-key",children:"Setting PRO license key"}),"\n",(0,r.jsx)(n.p,{children:"Centrifugo PRO inherits all features and configuration options from open-source version. The only difference is that it expects a valid license key on start to avoid sandbox mode limits."}),"\n",(0,r.jsxs)(n.p,{children:["Once you have installed a PRO version and have a license key you can set it in configuration over ",(0,r.jsx)(n.code,{children:"license"})," field, or pass over environment variables as ",(0,r.jsx)(n.code,{children:"CENTRIFUGO_LICENSE"}),". Like this:"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",metastring:'title="config.json"',children:'{\n    ...\n    "license": "<YOUR_LICENSE_KEY>"\n}\n'})}),"\n",(0,r.jsx)(n.admonition,{type:"tip",children:(0,r.jsx)(n.p,{children:"If license properly set then on Centrifugo PRO start you should see license information in logs: owner, license type and expiration date. All PRO features should be unlocked at this point. Warning about sandbox mode in logs on server start must disappear."})})]})}function u(e={}){const{wrapper:n}={...(0,t.a)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(d,{...e})}):d(e)}},11151:(e,n,i)=>{i.d(n,{Z:()=>a,a:()=>s});var r=i(67294);const t={},o=r.createContext(t);function s(e){const n=r.useContext(o);return r.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:s(e.components),r.createElement(o.Provider,{value:n},e.children)}}}]);
"use strict";(self.webpackChunkcentrifugal_dev=self.webpackChunkcentrifugal_dev||[]).push([[2578],{47845:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>h,contentTitle:()=>a,default:()=>g,frontMatter:()=>i,metadata:()=>r,toc:()=>l});var o=n(85893),s=n(11151);const i={title:"Asynchronous message streaming to Centrifugo with Benthos",tags:["centrifugo","benthos","tutorial"],description:"In this post, we'll demonstrate how to asynchronously stream messages into Centrifugo channels from external data providers using Benthos tool. We also highlight some pitfalls which become more important in asynchronous publishing scenario.",author:"Alexander Emelin",authorTitle:"Author of Centrifugo",authorImageURL:"https://github.com/FZambia.png",image:"/img/benthos_thumb.jpg",hide_table_of_contents:!1},a=void 0,r={permalink:"/blog/2023/08/19/asynchronous-message-streaming-to-centrifugo-with-benthos",editUrl:"https://github.com/centrifugal/centrifugal.dev/edit/main/blog/2023-08-19-asynchronous-message-streaming-to-centrifugo-with-benthos.md",source:"@site/blog/2023-08-19-asynchronous-message-streaming-to-centrifugo-with-benthos.md",title:"Asynchronous message streaming to Centrifugo with Benthos",description:"In this post, we'll demonstrate how to asynchronously stream messages into Centrifugo channels from external data providers using Benthos tool. We also highlight some pitfalls which become more important in asynchronous publishing scenario.",date:"2023-08-19T00:00:00.000Z",tags:[{label:"centrifugo",permalink:"/blog/tags/centrifugo"},{label:"benthos",permalink:"/blog/tags/benthos"},{label:"tutorial",permalink:"/blog/tags/tutorial"}],readingTime:7.08,hasTruncateMarker:!0,authors:[{name:"Alexander Emelin",title:"Author of Centrifugo",imageURL:"https://github.com/FZambia.png"}],frontMatter:{title:"Asynchronous message streaming to Centrifugo with Benthos",tags:["centrifugo","benthos","tutorial"],description:"In this post, we'll demonstrate how to asynchronously stream messages into Centrifugo channels from external data providers using Benthos tool. We also highlight some pitfalls which become more important in asynchronous publishing scenario.",author:"Alexander Emelin",authorTitle:"Author of Centrifugo",authorImageURL:"https://github.com/FZambia.png",image:"/img/benthos_thumb.jpg",hide_table_of_contents:!1},unlisted:!1,prevItem:{title:"Using Centrifugo in RabbitX",permalink:"/blog/2023/08/29/using-centrifugo-in-rabbitx"},nextItem:{title:"Centrifugo v5 released",permalink:"/blog/2023/06/29/centrifugo-v5-released"}},h={authorsImageUrls:[void 0]},l=[];function u(e){const t={a:"a",p:"p",...(0,s.a)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("img",{src:"/img/benthos.png"}),"\n",(0,o.jsx)(t.p,{children:"Centrifugo provides HTTP and GRPC APIs for publishing messages into channels. Publish server API is very straighforward to use - it's a simple request with a channel and data to be delivered to active WebSocket connections subscribed to a channel."}),"\n",(0,o.jsx)(t.p,{children:"Sometimes though Centrifugo users want to avoid synchronous calls to Centrifugo API delegating this work to asynchronous tasks. Many companies have convenient infrastructure for messaging processing tasks - like Kafka, Nats Jetstream, Redis, RabbitMQ, etc. Some using transactional outbox pattern to reliably deliver events upon database changes and have a ready infrastructure to push such events to some queue. From which want to re-publish events to Centrifugo."}),"\n",(0,o.jsxs)(t.p,{children:["In this post we get familiar with a tool called ",(0,o.jsx)(t.a,{href:"https://www.benthos.dev/",children:"Benthos"})," and show how it may simplify integrating your asynchronous message flow with Centrifugo. And we discuss some non-obvious pitfalls of asynchronous publishing approach in regards to real-time applications."]})]})}function g(e={}){const{wrapper:t}={...(0,s.a)(),...e.components};return t?(0,o.jsx)(t,{...e,children:(0,o.jsx)(u,{...e})}):u(e)}},11151:(e,t,n)=>{n.d(t,{Z:()=>r,a:()=>a});var o=n(67294);const s={},i=o.createContext(s);function a(e){const t=o.useContext(i);return o.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function r(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:a(e.components),o.createElement(i.Provider,{value:t},e.children)}}}]);
"use strict";(self.webpackChunkcentrifugal_dev=self.webpackChunkcentrifugal_dev||[]).push([[2906],{8599:(e,n,o)=>{o.r(n),o.d(n,{assets:()=>l,contentTitle:()=>s,default:()=>h,frontMatter:()=>r,metadata:()=>t,toc:()=>d});var i=o(85893),c=o(11151);const r={id:"console_commands",title:"Helper CLI commands"},s=void 0,t={id:"server/console_commands",title:"Helper CLI commands",description:"Here is a list of helpful command-line commands that come with Centrifugo executable.",source:"@site/docs/server/console_commands.md",sourceDirName:"server",slug:"/server/console_commands",permalink:"/docs/server/console_commands",draft:!1,unlisted:!1,editUrl:"https://github.com/centrifugal/centrifugal.dev/edit/main/docs/server/console_commands.md",tags:[],version:"current",frontMatter:{id:"console_commands",title:"Helper CLI commands"},sidebar:"Guides",previous:{title:"Client protocol codes",permalink:"/docs/server/codes"}},l={},d=[{value:"version",id:"version",level:2},{value:"genconfig",id:"genconfig",level:2},{value:"checkconfig",id:"checkconfig",level:2},{value:"gentoken",id:"gentoken",level:2},{value:"gensubtoken",id:"gensubtoken",level:2},{value:"checktoken",id:"checktoken",level:2},{value:"checksubtoken",id:"checksubtoken",level:2}];function a(e){const n={code:"code",h2:"h2",p:"p",pre:"pre",...(0,c.a)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.p,{children:"Here is a list of helpful command-line commands that come with Centrifugo executable."}),"\n",(0,i.jsx)(n.h2,{id:"version",children:"version"}),"\n",(0,i.jsx)(n.p,{children:"To show Centrifugo version and exit run:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"centrifugo version\n"})}),"\n",(0,i.jsx)(n.h2,{id:"genconfig",children:"genconfig"}),"\n",(0,i.jsxs)(n.p,{children:["Another command is ",(0,i.jsx)(n.code,{children:"genconfig"}),":"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"centrifugo genconfig -c config.json\n"})}),"\n",(0,i.jsx)(n.p,{children:"It will automatically generate the minimal required configuration file. This is mostly useful for development."}),"\n",(0,i.jsx)(n.p,{children:"If any errors happen \u2013 program will exit with error message and exit code 1."}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"genconfig"})," also supports generation of YAML and TOML configuration file formats - just provide an extension to a file:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"centrifugo genconfig -c config.toml\n"})}),"\n",(0,i.jsx)(n.h2,{id:"checkconfig",children:"checkconfig"}),"\n",(0,i.jsxs)(n.p,{children:["Centrifugo has special command to check configuration file ",(0,i.jsx)(n.code,{children:"checkconfig"}),":"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"centrifugo checkconfig --config=config.json\n"})}),"\n",(0,i.jsx)(n.p,{children:"If any errors found during validation \u2013 program will exit with error message and exit code 1."}),"\n",(0,i.jsx)(n.h2,{id:"gentoken",children:"gentoken"}),"\n",(0,i.jsxs)(n.p,{children:["Another command is ",(0,i.jsx)(n.code,{children:"gentoken"}),":"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"centrifugo gentoken -c config.json -u 28282\n"})}),"\n",(0,i.jsxs)(n.p,{children:["It will automatically generate HMAC SHA-256 based token for user with ID ",(0,i.jsx)(n.code,{children:"28282"})," (which expires in 1 week)."]}),"\n",(0,i.jsxs)(n.p,{children:["You can change token TTL with ",(0,i.jsx)(n.code,{children:"-t"})," flag (number of seconds):"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"centrifugo gentoken -c config.json -u 28282 -t 3600\n"})}),"\n",(0,i.jsx)(n.p,{children:"This way generated token will be valid for 1 hour."}),"\n",(0,i.jsx)(n.p,{children:"If any errors happen \u2013 program will exit with error message and exit code 1."}),"\n",(0,i.jsx)(n.p,{children:"This command is mostly useful for development."}),"\n",(0,i.jsx)(n.h2,{id:"gensubtoken",children:"gensubtoken"}),"\n",(0,i.jsxs)(n.p,{children:["Another command is ",(0,i.jsx)(n.code,{children:"gensubtoken"}),":"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"centrifugo gensubtoken -c config.json -u 28282 -s channel\n"})}),"\n",(0,i.jsxs)(n.p,{children:["It will automatically generate HMAC SHA-256 based subscription token for channel ",(0,i.jsx)(n.code,{children:"channel"})," and user with ID ",(0,i.jsx)(n.code,{children:"28282"})," (which expires in 1 week)."]}),"\n",(0,i.jsxs)(n.p,{children:["You can change token TTL with ",(0,i.jsx)(n.code,{children:"-t"})," flag (number of seconds):"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"centrifugo gentoken -c config.json -u 28282 -s channel -t 3600\n"})}),"\n",(0,i.jsx)(n.p,{children:"This way generated token will be valid for 1 hour."}),"\n",(0,i.jsx)(n.p,{children:"If any errors happen \u2013 program will exit with error message and exit code 1."}),"\n",(0,i.jsx)(n.p,{children:"This command is mostly useful for development."}),"\n",(0,i.jsx)(n.h2,{id:"checktoken",children:"checktoken"}),"\n",(0,i.jsxs)(n.p,{children:["One more command is ",(0,i.jsx)(n.code,{children:"checktoken"}),":"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"centrifugo checktoken -c config.json <TOKEN>\n"})}),"\n",(0,i.jsx)(n.p,{children:"It will validate your connection JWT, so you can test it before using while developing application."}),"\n",(0,i.jsx)(n.p,{children:"If any errors happen or validation failed \u2013 program will exit with error message and exit code 1."}),"\n",(0,i.jsx)(n.p,{children:"This is mostly useful for development."}),"\n",(0,i.jsx)(n.h2,{id:"checksubtoken",children:"checksubtoken"}),"\n",(0,i.jsxs)(n.p,{children:["One more command is ",(0,i.jsx)(n.code,{children:"checksubtoken"}),":"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"centrifugo checksubtoken -c config.json <TOKEN>\n"})}),"\n",(0,i.jsx)(n.p,{children:"It will validate your subscription JWT, so you can test it before using while developing application."}),"\n",(0,i.jsx)(n.p,{children:"If any errors happen or validation failed \u2013 program will exit with error message and exit code 1."}),"\n",(0,i.jsx)(n.p,{children:"This is mostly useful for development."})]})}function h(e={}){const{wrapper:n}={...(0,c.a)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(a,{...e})}):a(e)}},11151:(e,n,o)=>{o.d(n,{Z:()=>t,a:()=>s});var i=o(67294);const c={},r=i.createContext(c);function s(e){const n=i.useContext(r);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function t(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(c):e.components||c:s(e.components),i.createElement(r.Provider,{value:n},e.children)}}}]);
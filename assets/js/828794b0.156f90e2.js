"use strict";(self.webpackChunkcentrifugal_dev=self.webpackChunkcentrifugal_dev||[]).push([[6243],{925:(e,n,o)=>{o.r(n),o.d(n,{assets:()=>l,contentTitle:()=>t,default:()=>h,frontMatter:()=>r,metadata:()=>i,toc:()=>d});const i=JSON.parse('{"id":"server/console_commands","title":"Helper CLI commands","description":"Here is a list of helpful command-line commands that come with Centrifugo executable.","source":"@site/versioned_docs/version-5/server/console_commands.md","sourceDirName":"server","slug":"/server/console_commands","permalink":"/docs/5/server/console_commands","draft":false,"unlisted":false,"editUrl":"https://github.com/centrifugal/centrifugal.dev/edit/main/versioned_docs/version-5/server/console_commands.md","tags":[],"version":"5","frontMatter":{"id":"console_commands","title":"Helper CLI commands"},"sidebar":"Guides","previous":{"title":"Client protocol codes","permalink":"/docs/5/server/codes"}}');var c=o(74848),s=o(28453);const r={id:"console_commands",title:"Helper CLI commands"},t=void 0,l={},d=[{value:"version",id:"version",level:2},{value:"genconfig",id:"genconfig",level:2},{value:"checkconfig",id:"checkconfig",level:2},{value:"gentoken",id:"gentoken",level:2},{value:"gensubtoken",id:"gensubtoken",level:2},{value:"checktoken",id:"checktoken",level:2},{value:"checksubtoken",id:"checksubtoken",level:2}];function a(e){const n={code:"code",h2:"h2",p:"p",pre:"pre",...(0,s.R)(),...e.components};return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(n.p,{children:"Here is a list of helpful command-line commands that come with Centrifugo executable."}),"\n",(0,c.jsx)(n.h2,{id:"version",children:"version"}),"\n",(0,c.jsx)(n.p,{children:"To show Centrifugo version and exit run:"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{children:"centrifugo version\n"})}),"\n",(0,c.jsx)(n.h2,{id:"genconfig",children:"genconfig"}),"\n",(0,c.jsxs)(n.p,{children:["Another command is ",(0,c.jsx)(n.code,{children:"genconfig"}),":"]}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{children:"centrifugo genconfig -c config.json\n"})}),"\n",(0,c.jsx)(n.p,{children:"It will automatically generate the minimal required configuration file. This is mostly useful for development."}),"\n",(0,c.jsx)(n.p,{children:"If any errors happen \u2013 program will exit with error message and exit code 1."}),"\n",(0,c.jsxs)(n.p,{children:[(0,c.jsx)(n.code,{children:"genconfig"})," also supports generation of YAML and TOML configuration file formats - just provide an extension to a file:"]}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{children:"centrifugo genconfig -c config.toml\n"})}),"\n",(0,c.jsx)(n.h2,{id:"checkconfig",children:"checkconfig"}),"\n",(0,c.jsxs)(n.p,{children:["Centrifugo has special command to check configuration file ",(0,c.jsx)(n.code,{children:"checkconfig"}),":"]}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-bash",children:"centrifugo checkconfig --config=config.json\n"})}),"\n",(0,c.jsx)(n.p,{children:"If any errors found during validation \u2013 program will exit with error message and exit code 1."}),"\n",(0,c.jsx)(n.h2,{id:"gentoken",children:"gentoken"}),"\n",(0,c.jsxs)(n.p,{children:["Another command is ",(0,c.jsx)(n.code,{children:"gentoken"}),":"]}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{children:"centrifugo gentoken -c config.json -u 28282\n"})}),"\n",(0,c.jsxs)(n.p,{children:["It will automatically generate HMAC SHA-256 based token for user with ID ",(0,c.jsx)(n.code,{children:"28282"})," (which expires in 1 week)."]}),"\n",(0,c.jsxs)(n.p,{children:["You can change token TTL with ",(0,c.jsx)(n.code,{children:"-t"})," flag (number of seconds):"]}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{children:"centrifugo gentoken -c config.json -u 28282 -t 3600\n"})}),"\n",(0,c.jsx)(n.p,{children:"This way generated token will be valid for 1 hour."}),"\n",(0,c.jsx)(n.p,{children:"If any errors happen \u2013 program will exit with error message and exit code 1."}),"\n",(0,c.jsx)(n.p,{children:"This command is mostly useful for development."}),"\n",(0,c.jsx)(n.h2,{id:"gensubtoken",children:"gensubtoken"}),"\n",(0,c.jsxs)(n.p,{children:["Another command is ",(0,c.jsx)(n.code,{children:"gensubtoken"}),":"]}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{children:"centrifugo gensubtoken -c config.json -u 28282 -s channel\n"})}),"\n",(0,c.jsxs)(n.p,{children:["It will automatically generate HMAC SHA-256 based subscription token for channel ",(0,c.jsx)(n.code,{children:"channel"})," and user with ID ",(0,c.jsx)(n.code,{children:"28282"})," (which expires in 1 week)."]}),"\n",(0,c.jsxs)(n.p,{children:["You can change token TTL with ",(0,c.jsx)(n.code,{children:"-t"})," flag (number of seconds):"]}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{children:"centrifugo gentoken -c config.json -u 28282 -s channel -t 3600\n"})}),"\n",(0,c.jsx)(n.p,{children:"This way generated token will be valid for 1 hour."}),"\n",(0,c.jsx)(n.p,{children:"If any errors happen \u2013 program will exit with error message and exit code 1."}),"\n",(0,c.jsx)(n.p,{children:"This command is mostly useful for development."}),"\n",(0,c.jsx)(n.h2,{id:"checktoken",children:"checktoken"}),"\n",(0,c.jsxs)(n.p,{children:["One more command is ",(0,c.jsx)(n.code,{children:"checktoken"}),":"]}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{children:"centrifugo checktoken -c config.json <TOKEN>\n"})}),"\n",(0,c.jsx)(n.p,{children:"It will validate your connection JWT, so you can test it before using while developing application."}),"\n",(0,c.jsx)(n.p,{children:"If any errors happen or validation failed \u2013 program will exit with error message and exit code 1."}),"\n",(0,c.jsx)(n.p,{children:"This is mostly useful for development."}),"\n",(0,c.jsx)(n.h2,{id:"checksubtoken",children:"checksubtoken"}),"\n",(0,c.jsxs)(n.p,{children:["One more command is ",(0,c.jsx)(n.code,{children:"checksubtoken"}),":"]}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{children:"centrifugo checksubtoken -c config.json <TOKEN>\n"})}),"\n",(0,c.jsx)(n.p,{children:"It will validate your subscription JWT, so you can test it before using while developing application."}),"\n",(0,c.jsx)(n.p,{children:"If any errors happen or validation failed \u2013 program will exit with error message and exit code 1."}),"\n",(0,c.jsx)(n.p,{children:"This is mostly useful for development."})]})}function h(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,c.jsx)(n,{...e,children:(0,c.jsx)(a,{...e})}):a(e)}},28453:(e,n,o)=>{o.d(n,{R:()=>r,x:()=>t});var i=o(96540);const c={},s=i.createContext(c);function r(e){const n=i.useContext(s);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function t(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(c):e.components||c:r(e.components),i.createElement(s.Provider,{value:n},e.children)}}}]);
<!doctype html>
<html lang="en" dir="ltr" class="blog-wrapper blog-post-page plugin-blog plugin-id-default" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.8.1">
<title data-rh="true">Centrifugo v6 released | Centrifugo</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://centrifugal.dev/blog/2025/01/16/centrifugo-v6-released"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docusaurus_tag" content="default"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docsearch:docusaurus_tag" content="default"><meta data-rh="true" property="og:title" content="Centrifugo v6 released | Centrifugo"><meta data-rh="true" name="description" content="We are excited to tell the world about Centrifugo v6 ‚Äì a new major release, which is now live. This release contains fundamental changes in the configuration and adds several useful features and more observability to Centrifugo OSS and Centrifugo PRO."><meta data-rh="true" property="og:description" content="We are excited to tell the world about Centrifugo v6 ‚Äì a new major release, which is now live. This release contains fundamental changes in the configuration and adds several useful features and more observability to Centrifugo OSS and Centrifugo PRO."><meta data-rh="true" property="og:image" content="https://centrifugal.dev/img/v6.jpg"><meta data-rh="true" name="twitter:image" content="https://centrifugal.dev/img/v6.jpg"><meta data-rh="true" property="og:type" content="article"><meta data-rh="true" property="article:published_time" content="2025-01-16T00:00:00.000Z"><meta data-rh="true" property="article:tag" content="centrifugo,release"><link data-rh="true" rel="icon" href="/img/favicon.png"><link data-rh="true" rel="canonical" href="https://centrifugal.dev/blog/2025/01/16/centrifugo-v6-released"><link data-rh="true" rel="alternate" href="https://centrifugal.dev/blog/2025/01/16/centrifugo-v6-released" hreflang="en"><link data-rh="true" rel="alternate" href="https://centrifugal.dev/blog/2025/01/16/centrifugo-v6-released" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://EPXZ1LXJ33-dsn.algolia.net" crossorigin="anonymous"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BlogPosting","@id":"https://centrifugal.dev/blog/2025/01/16/centrifugo-v6-released","mainEntityOfPage":"https://centrifugal.dev/blog/2025/01/16/centrifugo-v6-released","url":"https://centrifugal.dev/blog/2025/01/16/centrifugo-v6-released","headline":"Centrifugo v6 released","name":"Centrifugo v6 released","description":"We are excited to tell the world about Centrifugo v6 ‚Äì a new major release, which is now live. This release contains fundamental changes in the configuration and adds several useful features and more observability to Centrifugo OSS and Centrifugo PRO.","datePublished":"2025-01-16T00:00:00.000Z","author":{"@type":"Person","name":"Centrifugal team","description":"üíª‚ú®üîÆ‚ú®üíª","image":"/img/logo_animated.svg"},"image":{"@type":"ImageObject","@id":"https://centrifugal.dev/img/v6.jpg","url":"https://centrifugal.dev/img/v6.jpg","contentUrl":"https://centrifugal.dev/img/v6.jpg","caption":"title image for the blog post: Centrifugo v6 released"},"keywords":[],"isPartOf":{"@type":"Blog","@id":"https://centrifugal.dev/blog","name":"Centrifugal Blog"}}</script><link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title=" RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title=" Atom Feed">
<link rel="alternate" type="application/json" href="/blog/feed.json" title=" JSON Feed">

<link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=G-NZRQD92LEX"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-NZRQD92LEX",{anonymize_ip:!0})</script>



<link rel="search" type="application/opensearchdescription+xml" title="Centrifugo" href="/opensearch.xml">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.3/font/bootstrap-icons.css"><link rel="stylesheet" href="/assets/css/styles.85a9a7f7.css">
<script src="/assets/js/runtime~main.73c3ad0c.js" defer="defer"></script>
<script src="/assets/js/main.d1e766b8.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg xmlns="http://www.w3.org/2000/svg" style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t="dark";var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",e||t),document.documentElement.setAttribute("data-theme-choice",e||t)}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="theme-layout-navbar navbar navbar--fixed-top navbarHideable_m1mJ"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.svg" alt="Centrifugo Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/logo.svg" alt="Centrifugo Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">Centrifugo</b></a><a class="navbar__item navbar__link" href="/docs/getting-started/introduction">Getting Started</a><a class="navbar__item navbar__link" href="/docs/server/configuration">Server guide</a><a class="navbar__item navbar__link" href="/docs/transports/overview">Real-time transports / SDK</a><a class="navbar__item navbar__link" href="/pro">Centrifugo PRO ‚ôªÔ∏è</a><a class="navbar__item navbar__link" href="/docs/faq">FAQ</a><a class="navbar__item navbar__link" href="/docs/tutorial/intro">Grand tutorial</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/blog">Blog</a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><a href="https://github.com/centrifugal/centrifugo" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-github-link" aria-label="GitHub repository"></a><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a class="navbar__link" aria-haspopup="true" aria-expanded="false" role="button" href="/docs/getting-started/introduction">v6</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/docs/getting-started/introduction">v6</a></li><li><a class="dropdown__link" href="/docs/5/getting-started/introduction">v5</a></li><li><a class="dropdown__link" href="/docs/4/getting-started/introduction">v4</a></li><li><a class="dropdown__link" href="/docs/3/getting-started/introduction">v3</a></li></ul></div><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="system mode" aria-label="Switch between dark and light mode (currently system mode)"><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP systemToggleIcon_QzmC"><path fill="currentColor" d="m12 21c4.971 0 9-4.029 9-9s-4.029-9-9-9-9 4.029-9 9 4.029 9 9 9zm4.95-13.95c1.313 1.313 2.05 3.093 2.05 4.95s-0.738 3.637-2.05 4.95c-1.313 1.313-3.093 2.05-4.95 2.05v-14c1.857 0 3.637 0.737 4.95 2.05z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search (Command+K)"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20" aria-hidden="true"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_z2l0"><div class="container margin-vert--lg"><div class="row"><main class="col col--9 col--offset-1"><article class=""><header><h1 class="title_f1Hy">Centrifugo v6 released</h1><div class="container_mt6G margin-vert--md"><time datetime="2025-01-16T00:00:00.000Z">January 16, 2025</time> ¬∑ <!-- -->28 min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--12 authorCol_Hf19"><div class="avatar margin-bottom--sm"><img class="avatar__photo authorImage_XqGP" src="/img/logo_animated.svg" alt="Centrifugal team"><div class="avatar__intro authorDetails_lV9A"><div class="avatar__name"><span class="authorName_yefp">Centrifugal team</span></div><small class="authorTitle_nd0D" title="üíª‚ú®üîÆ‚ú®üíª">üíª‚ú®üîÆ‚ú®üíª</small><div class="authorSocials_rSDt"></div></div></div></div></div></header><div id="__blog-post-container" class="markdown"><img src="/img/v6.jpg">
<p>We are excited to announce Centrifugo v6 ‚Äì a new major release that is now live. This release includes fundamental improvements in the configuration to simplify working with Centrifugo from both user and core development perspectives. It also adds several useful features and enhances observability for both Centrifugo OSS and Centrifugo PRO.</p>
<div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>Prefer podcast version of this post? (8.5 MB).</div><div class="admonitionContent_BuS1"><audio controls=""><source src="/img/v6.mp3" type="audio/mp3"></audio></div></div>
<p>For those who never heard about Centrifugo before, it is a scalable real-time messaging server in a self-hosted environment. Centrifugo allows you to build real-time features in your application, such as chat, notifications, live updates, and more. It&#x27;s modern, fast, reliable and lightweight. Centrifugo is used by many companies worldwide to power real-time features in their applications. Find out more information in <a href="/docs/getting-started/introduction">introduction</a>.</p>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="why-centrifugo-v6-was-required">Why Centrifugo v6 was required?<a href="#why-centrifugo-v6-was-required" class="hash-link" aria-label="Direct link to Why Centrifugo v6 was required?" title="Direct link to Why Centrifugo v6 was required?">‚Äã</a></h2>
<img src="/img/v6_most_wanted.jpg" align="left" style="margin-right:15px;margin-bottom:5px;float:left;max-width:300px">
<p>In a recent blog post, we talked about <a href="/blog/2024/12/23/centrifugo-v5-milestones">notable Centrifugo v5 milestones</a>. The v5 release was a significant milestone in the Centrifugo project&#x27;s history, introducing numerous new features and improvements. However, the time for a new major release had come.</p>
<p>Over the years, Centrifugo has evolved into a robust platform packed with numerous features. However, as Centrifugo&#x27;s capabilities expanded, so did the complexity of its configuration. Settings became increasingly dispersed across various parts of the codebase, making them harder to manage and understand. Adding new features required modifying more areas than it should have. With v6, we are addressing this challenge head-on by restructuring the configuration system and rethinking its organization.</p>
<p>Additionally, there were a few areas that required improvement but could not be addressed without breaking changes. A couple of deprecated features were removed in v6.</p>
<p>Let&#x27;s begin our dive into the Centrifugo v6 release with a description of the removed parts.</p>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="removing-sockjs">Removing SockJS<a href="#removing-sockjs" class="hash-link" aria-label="Direct link to Removing SockJS" title="Direct link to Removing SockJS">‚Äã</a></h2>
<p>SockJS is a JavaScript library that provides a WebSocket-like object, but under the hood, it uses various transports to establish a connection (falling back to HTTP instead of WebSocket in case of connection issues).</p>
<p>The SockJS transport was deprecated in the Centrifugal ecosystem <a href="https://centrifugal.dev/blog/2022/07/19/centrifugo-v4-released#:~:text=SockJS%20is%20still%20supported%20by%20Centrifugo%20and%20centrifuge%2Djs%2C%20but%20it%27s%20now%20DEPRECATED." target="_blank" rel="noopener noreferrer">since the v4 release</a>. We encouraged users to reach out if SockJS was still necessary <a href="https://centrifugal.dev/blog/2023/06/29/centrifugo-v5-released#the-future-of-sockjs" target="_blank" rel="noopener noreferrer">in blog posts</a> and marked it as deprecated in the documentation. However, nobody reached out during this time.</p>
<p>The SockJS client is poorly maintained these days, with issues not being addressed and some transports becoming outdated.</p>
<p>Since Centrifugo v4, we have <a href="https://centrifugal.dev/blog/2022/07/19/centrifugo-v4-released#modern-websocket-emulation-in-javascript" target="_blank" rel="noopener noreferrer">our own WebSocket emulation layer</a>. Unlike SockJS&#x27;s HTTP-based fallbacks, our layer:</p>
<ul>
<li>does not require sticky sessions in distributed cases (!),</li>
<li>supports binary in the HTTP-streaming case,</li>
<li>allows batching of messages in a more efficient wire format,</li>
<li>is more performant in terms of CPU and memory on the server side, and</li>
<li>requires fewer round-trips for connection establishment.</li>
</ul>
<p>In Centrifugo v6, SockJS has been removed. Our JavaScript SDK, <code>centrifuge-js</code>, will continue to support the SockJS transport for some time to work with Centrifugo v5, but we plan to remove it from the client SDK eventually.</p>
<p>To enable Centrifugo‚Äôs built-in bidirectional emulation, you need to enable <a href="/docs/transports/http_stream">HTTP streaming</a> or <a href="/docs/transports/sse">SSE</a> transports in the server configuration, and then configure <code>centrifuge-js</code> to use those <a href="https://github.com/centrifugal/centrifuge-js?tab=readme-ov-file#http-based-websocket-fallbacks" target="_blank" rel="noopener noreferrer">as described in its README</a>:</p>
<div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">const</span><span class="token plain"> transports </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token literal-property property">transport</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;websocket&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token literal-property property">endpoint</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;ws://localhost:8000/connection/websocket&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token literal-property property">transport</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;http_stream&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token literal-property property">endpoint</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;http://localhost:8000/connection/http_stream&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token literal-property property">transport</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;sse&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token literal-property property">endpoint</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;http://localhost:8000/connection/sse&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">const</span><span class="token plain"> centrifuge </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">new</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">Centrifuge</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">transports</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">centrifuge</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">connect</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><br></span></code></pre></div></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="removing-tarantool">Removing Tarantool<a href="#removing-tarantool" class="hash-link" aria-label="Direct link to Removing Tarantool" title="Direct link to Removing Tarantool">‚Äã</a></h2>
<p>Centrifugo v3 introduced the experimental Tarantool engine, and we were excited about it potentially being a solid alternative to Redis. However, since then, the Tarantool engine hasn‚Äôt seen many updates and is now missing some important features, like idempotent publishing and delta compression. These features were added to the memory and Redis engines during the v5 release, but unfortunately, Tarantool was left behind.</p>
<p>We were aware of only two setups where the Tarantool engine was used ‚Äì and both clients eventually moved away from it with our help. Additionally, our usage statistics do not show any notable adoption of the Tarantool engine.</p>
<p>The reality is that while Tarantool provides some interesting technical advantages over Redis, maintaining proper integration with it and keeping it current is impossible given the resources of Centrifugal Labs. Furthermore, there was no significant support from the Centrifugo community to push its development forward.</p>
<p>For these reasons, we decided to remove Tarantool integration from Centrifugo. All Tarantool-related repositories will be moved to read-only mode. For now Centrifugal Labs will focus on Redis, Redis-compatible brokers, and NATS as the main scalability options for Centrifugo.</p>
<p>Sometimes, it&#x27;s necessary to drop some ballast to continue a beautiful journey...</p>
<img src="/img/ballast.jpg">
<p>Meanwhile, our Redis integration has been improved. In Centrifugo v4, we migrated to the <a href="https://github.com/redis/rueidis" target="_blank" rel="noopener noreferrer">redis/rueidis</a> Go library, which enabled the Centrifugo node to achieve better Redis communication throughput. You can find more details in the blog post <a href="/blog/2022/12/20/improving-redis-engine-performance">Improving Centrifugo Redis Engine throughput and allocation efficiency with Rueidis Go library</a>.</p>
<p>We have also put more effort into integrating with Redis-compatible storages, such as <a href="https://www.dragonflydb.io/" target="_blank" rel="noopener noreferrer">DragonflyDB</a>, which may unlock new and interesting capabilities without the need to maintain a separate engine.</p>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="configuration-refactoring">Configuration refactoring<a href="#configuration-refactoring" class="hash-link" aria-label="Direct link to Configuration refactoring" title="Direct link to Configuration refactoring">‚Äã</a></h2>
<p>Over the years, Centrifugo&#x27;s configuration has been built on the approach initially established in its early versions. At the beginning, the number of configuration options was relatively small and manageable. However, with every new version and feature, the configuration became increasingly difficult to maintain and extend.</p>
<p>Refactoring this part is a challenging and not particularly enjoyable process, and it inevitably results in breaking compatibility. Nevertheless, for v6, we decided it was time to make this change.</p>
<p>Centrifugo v6 configuration has been completely restructured and now consists of distinct blocks ‚Äì with all the options grouped together to clearly indicate the layer they correspond to.</p>
<p>For example, there is a <code>client</code> top-level configuration block that contains options related to real-time client connections. To illustrate, let&#x27;s take the <code>allowed_origins</code> option from Centrifugo v5:</p>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockTitle_OeMC">Centrifugo v5 config example</div><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token property">&quot;allowed_origins&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;https://example.com&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><br></span></code></pre></div></div>
<p>It was moved under <code>client</code> section in v6:</p>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockTitle_OeMC">config.json</div><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token property">&quot;client&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token property">&quot;allowed_origins&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;https://example.com&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><br></span></code></pre></div></div>
<p>It is now clear which layer of Centrifugo a given option corresponds to. For instance, the <code>allowed_origins</code> option is related to client connections ‚Äì not to the server API or the admin web interface.</p>
<p>Let&#x27;s look at another example. Remember that Centrifugo supports not only JSON configuration files but also YAML and TOML? Let‚Äôs look at another example, this time in YAML format:</p>
<div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockTitle_OeMC">Centrifugo v5 YAML config example</div><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token key atrule">port</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">8000</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token key atrule">token_hmac_secret_key</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> XXX</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token key atrule">admin_password</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> XXX</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token key atrule">admin_secret</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> XXX</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token key atrule">api_key</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> XXX</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token key atrule">allowed_origins</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain"> http</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain">//localhost</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token number" style="color:rgb(247, 140, 108)">3000</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token key atrule">presence</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token boolean important" style="color:rgb(255, 88, 116)">true</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token key atrule">namespaces</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain"> </span><span class="token key atrule">name</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> ns</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token key atrule">presence</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token boolean important" style="color:rgb(255, 88, 116)">true</span><br></span></code></pre></div></div>
<p>In v6 becomes:</p>
<div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockTitle_OeMC">config.yaml</div><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token key atrule">http_server</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token key atrule">port</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">8000</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token key atrule">client</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token key atrule">token</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token key atrule">hmac_secret_key</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> XXX</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token key atrule">allowed_origins</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain"> http</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain">//localhost</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token number" style="color:rgb(247, 140, 108)">3000</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token key atrule">admin</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token key atrule">password</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> XXX</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token key atrule">secret</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> XXX</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token key atrule">http_api</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token key atrule">key</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> XXX</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token key atrule">channel</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token key atrule">without_namespace</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token key atrule">presence</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token boolean important" style="color:rgb(255, 88, 116)">true</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token key atrule">namespaces</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain"> </span><span class="token key atrule">name</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> ns</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token key atrule">presence</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token boolean important" style="color:rgb(255, 88, 116)">true</span><br></span></code></pre></div></div>
<p>Again ‚Äì we believe it&#x27;s much more clear now what part of server each option relates to.</p>
<p>We eliminated the situation where options were scattered across the Centrifugo codebase, often with unclear defaults and a non-obvious process for adding a new option. Now, the configuration is represented by a single Go struct. Config sections are organized into nested structs. Defaults are explicitly defined using struct field definition tags, making them easy to identify. This approach is simple to follow and extend ‚Äì in most cases, adding a new option is as straightforward as introducing a new field in the struct or a nested struct for more complex functionality. Having all options centralized in a single struct also unlocks new possibilities for working with the configuration, as we will explore below.</p>
<p>One aspect we&#x27;d like to highlight is that channel options for channels without any namespace prefix are now defined under the <code>channel -&gt; without_namespace</code> block (as shown in the example above). This change ensures that options for channels without a namespace are not mixed with other Centrifugo options at the same level of configuration. Previously, the way namespace options were organized in the codebase led to several bugs ‚Äì options for channels without a namespace required separate extraction, which was often overlooked. This issue has now been resolved. Additionally, with new config structure we more explicitly encourage users to adopt channel namespaces as a best practice when working with Centrifugo.</p>
<p>A great feature of Centrifugo is that it warns about unknown options in the configuration file and unknown environment variables at startup. This functionality, which helps users identify configuration mistakes, was already present in previous versions and remains in v6. Now, it also supports keys in deeply nested objects and arrays of objects without requiring excessive copy-paste in the codebase.</p>
<p>Re-structuring the configuration also affects how environment variables are constructed to configure Centrifugo. This will require users to update their environment variable configurations. To assist with this, we have added configuration converters to the v6 migration guide and introduced new CLI commands, which should greatly simplify the process (see more details below).</p>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="tls-config-unification">TLS config unification<a href="#tls-config-unification" class="hash-link" aria-label="Direct link to TLS config unification" title="Direct link to TLS config unification">‚Äã</a></h2>
<p>An important aspect of the new Centrifugo v6 configuration is that it uses the same TLS configuration object consistently across the entire system. Whenever you are configuring TLS now, you can expect the same field names, just at different configuration levels. TLS for the HTTP server, Redis client, NATS client, Kafka client, PostgreSQL client, and even mTLS support ‚Äì all can be configured in a unified way.</p>
<p>The new <a href="/docs/server/configuration#tls-config-object">TLS config object</a>, which was already used in some places in v5, allows certs and keys to be passed in three different ways:</p>
<ul>
<li>as a string in the config with PEM-encoded cert/key content,</li>
<li>as a base64 encoded string of PEM-encoded cert/key, or</li>
<li>as a path to a file with PEM-encoded cert/key.</li>
</ul>
<p>So you can choose the method that is most convenient for you.</p>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="proxy-config-improvements">Proxy config improvements<a href="#proxy-config-improvements" class="hash-link" aria-label="Direct link to Proxy config improvements" title="Direct link to Proxy config improvements">‚Äã</a></h2>
<p>Due to its self-hosted nature, Centrifugo can provide its users an efficient way to proxy various connection events to the application backend, enabling the backend to respond in a customized manner to control the flow. This feature, called <a href="/docs/server/proxy">proxy</a> is widely used by Centrifugo users. It allows authenticating connections in a customized manner (when the built-in JWT Centrifugo authentication is not suitable), managing channel subscription permissions and publication validations, refreshing client sessions, and handling RPC calls sent by a client over a bidirectional real-time connection.</p>
<p>In v6, there are a couple of notable improvements in the proxy feature configuration to make it simpler to use.</p>
<p>First, the separation between granular and non-granular proxy modes has been removed. In other words, there is no need to switch to a granular mode and reconfigure everything ‚Äì proxies may be added gradually in the way which is more suitable for a real-time feature.</p>
<p>The <code>connect</code> and <code>refresh</code> proxies can now be enabled and configured at the <code>client</code> level, while other types of proxies, which relate to channels, are configured within the <code>channel</code> block and enabled at the channel namespace level. RPC proxy configuration is now defined under a separate <code>rpc</code> section in the configuration.</p>
<p>It is now possible to define default proxies for all event types separately - <code>connect</code>, <code>refresh</code>, <code>subscribe</code>, <code>publish</code>, <code>sub_refresh</code>, etc, ‚Äì each with its own set of options. Previously, all proxies inherited the same set of options, and only endpoints and timeouts could be customized for specific proxy types. This new flexibility allows you to configure the desired proxy behavior without needing to use named proxy objects in many cases. For example, you can now define <code>connect</code> and <code>refresh</code> proxies with different sets of headers for each. While this behavior seems intuitive, it was previously only achievable by using the granular proxy mode and referencing custom proxies by name. Now, named proxy objects may be avoided in many cases where they were required before. So you can postpone using them until a more granular configuration is really required.</p>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="defaultconfig-cli-helper">defaultconfig cli helper<a href="#defaultconfig-cli-helper" class="hash-link" aria-label="Direct link to defaultconfig cli helper" title="Direct link to defaultconfig cli helper">‚Äã</a></h2>
<p>To simplify the process of creating a new configuration file or discovering available options, we added a new CLI command <code>defaultconfig</code>.</p>
<p>The <code>defaultconfig</code> command provides a way to get the configuration file with all defaults for all available configuration options. It will be possible using the command like:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">centrifugo defaultconfig -c config.json</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">centrifugo defaultconfig -c config.yaml</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">centrifugo defaultconfig -c config.toml</span><br></span></code></pre></div></div>
<p>Also, in dry-run mode it will be posted to STDOUT instead of file:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">centrifugo defaultconfig -c config.json --dry-run</span><br></span></code></pre></div></div>
<p>Finally, it&#x27;s possible to provide this command a base configuration file - so the result will inherit option values from base file and will extend it with defaults for everything else:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">centrifugo defaultconfig -c config.json --dry-run --base existing_config.json</span><br></span></code></pre></div></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="defaultenv-cli-helper">defaultenv cli helper<a href="#defaultenv-cli-helper" class="hash-link" aria-label="Direct link to defaultenv cli helper" title="Direct link to defaultenv cli helper">‚Äã</a></h2>
<p>In addition to <code>defaultconfig</code> added <code>defaultenv</code> command which prints all config options as environment vars with default values to STDOUT:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">$ centrifugo defaultenv</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">CENTRIFUGO_HTTP_SERVER_ADDRESS=&quot;&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">CENTRIFUGO_HTTP_SERVER_PORT=&quot;8000&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">CENTRIFUGO_ADMIN_ENABLED=false</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">CENTRIFUGO_ADMIN_EXTERNAL=false</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">CENTRIFUGO_ADMIN_HANDLER_PREFIX=&quot;&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">CENTRIFUGO_ADMIN_INSECURE=false</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">CENTRIFUGO_ADMIN_PASSWORD=&quot;&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">CENTRIFUGO_ADMIN_SECRET=&quot;&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">...</span><br></span></code></pre></div></div>
<p>Like <code>defaultconfig</code>, it also supports the base config file to inherit values from:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">centrifugo defaultenv --base config.json</span><br></span></code></pre></div></div>
<p>When using <code>--base</code>, if you additionally provide <code>--base-non-zero-only</code> flag ‚Äì the output will contain only environment variables for keys which were set to non zero values in the base config file. For example, let&#x27;s say you have Centrifugo v6 JSON configuration file:</p>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockTitle_OeMC">config.json</div><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token property">&quot;client&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token property">&quot;allowed_origins&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;http://localhost:8000&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token property">&quot;engine&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token property">&quot;type&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;redis&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token property">&quot;redis&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token property">&quot;address&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;redis://localhost:6379&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token property">&quot;admin&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token property">&quot;enabled&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token boolean" style="color:rgb(255, 88, 116)">false</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><br></span></code></pre></div></div>
<p>Running:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">centrifugo defaultenv --base config.json --base-non-zero-only</span><br></span></code></pre></div></div>
<p>‚Äì will output only variables set in config file to non zero value (thus <code>admin.enabled</code> skipped also):</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">CENTRIFUGO_CLIENT_ALLOWED_ORIGINS=&quot;http://localhost:8000&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">CENTRIFUGO_ENGINE_REDIS_ADDRESS=&quot;redis://localhost:6379&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">CENTRIFUGO_ENGINE_TYPE=&quot;redis&quot;</span><br></span></code></pre></div></div>
<p>We already like <code>defaultenv</code> a lot ourselves when combined with <code>grep</code>, to quickly try configuring sth in development and finding out the necessary option:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">centrifugo defaultenv | grep &quot;HMAC&quot;</span><br></span></code></pre></div></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="headers-emulation">Headers emulation<a href="#headers-emulation" class="hash-link" aria-label="Direct link to Headers emulation" title="Direct link to Headers emulation">‚Äã</a></h2>
<div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>TLDR</div><div class="admonitionContent_BuS1"><p>Use headers emulation when using <code>centrifuge-js</code> SDK in browser and Centrifugo <a href="/docs/server/proxy">proxy</a> feature to add a custom header to the request from Centrifugo to the backend.</p></div></div>
<p>The WebSocket API in web browsers does not allow setting custom HTTP headers, which makes implementing authentication for WebSocket connections from browsers more challenging.</p>
<p>Centrifugo‚Äôs JWT authentication provides a robust solution by allowing authentication via a JWT token sent internally in the first client protocol message. However, not everyone prefers to use JWT, so many Centrifugo users have configured a connect proxy to authenticate incoming connections.</p>
<p>Unfortunately, in such cases, only cookie-based authentication was available, as web browsers automatically include the <code>Cookie</code> header for WebSocket Upgrade requests to the same domain. Other types of authentication, such as appending a <code>Bearer</code> token in a header, were only possible by passing the token in URL parameters or with initial custom <code>data</code> sent in the connection. While these methods work, they are often inconvenient because the backend cannot easily reuse existing middlewares for authentication.</p>
<p>A useful feature introduced in Centrifugo v6 is called <strong>Headers Emulation</strong>. This feature is available exclusively in our browser SDK, <code>centrifuge-js</code> (and only makes sense there, as other platforms allow setting headers natively). With this feature, it is now possible to provide a custom headers map in the <code>Centrifuge</code> constructor options. These values are automatically translated into HTTP headers when Centrifugo makes connection proxy requests to the backend. Internally, these custom headers are still passed to Centrifugo via the first client protocol message.</p>
<p>We are not the first offering such a workaround BTW - those familiar with Cloudflare WebSocket API may know that Cloudflare Workers allow setting custom headers for WebSocket connections <a href="https://blog.cloudflare.com/do-it-again/" target="_blank" rel="noopener noreferrer">in a Sec-WebSocket-Protocol header</a>. However, that approach violates WebSocket RFC, and Centrifugo provides a better implementation here moving headers passing to its own client protocol level.</p>
<p>Here is an example of how to use <code>centrifuge-js</code> with the headers emulation feature:</p>
<div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">const</span><span class="token plain"> centrifuge </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">new</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">Centrifuge</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;wss://example.com/connection/websocket&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token string-property property">&quot;headers&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            </span><span class="token string-property property">&quot;Authorization&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;Bearer XXX&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><br></span></code></pre></div></div>
<p>There is also a setter method in SDK to update headers later on.</p>
<p>Note, that Centrifugo proxy configuration requires a white list of headers to proxy to the backend, the white list will still be used when working with headers sent in such a way.</p>
<p>This feature simplifies browser-based WebSocket authentication, enabling developers to define custom headers in a familiar and efficient way.</p>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="publication-data-mode-for-kafka-consumers">Publication data mode for Kafka consumers<a href="#publication-data-mode-for-kafka-consumers" class="hash-link" aria-label="Direct link to Publication data mode for Kafka consumers" title="Direct link to Publication data mode for Kafka consumers">‚Äã</a></h2>
<p>Another feature added in Centrifugo v6 simplifies integrating Centrifugo with Kafka via its asynchronous Kafka consumer. Previously, Centrifugo could integrate with Kafka topics but required a special payload format, where each message in the topic represented a Centrifugo API command. This approach worked well for Kafka topics specifically set up for Centrifugo.</p>
<p>With Centrifugo v6, a new <a href="/docs/server/consumers#kafka-consumer-options"><strong>Publication Data Mode</strong></a> has been introduced for Kafka consumers. When this mode is enabled, Centrifugo expects messages in Kafka topics to contain data ready for direct publication, rather than server API commands. It is also possible to use special Kafka headers to specify the channels to which the data should be published.</p>
<p>The primary goal of this mode is to simplify Centrifugo&#x27;s integration with existing Kafka topics, making it easier to deliver real-time messages to clients without needing to restructure the topic&#x27;s payload format.</p>
<p>Additionally, since Centrifugo allows configuring an array of asynchronous consumers, it is possible to use Kafka consumers in different modes simultaneously.</p>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="separate-broker-and-presence-manager">Separate broker and presence manager<a href="#separate-broker-and-presence-manager" class="hash-link" aria-label="Direct link to Separate broker and presence manager" title="Direct link to Separate broker and presence manager">‚Äã</a></h2>
<p>Centrifugo&#x27;s engine internally consists of two main components: the Broker and the PresenceManager. During the v5 lifecycle, we introduced the ability to set custom brokers and presence managers for different namespaces in Centrifugo PRO. With the v6 release, this separation is now explicit in the OSS edition as well, allowing the Broker and Presence Manager to be configured independently ‚Äì see more details in <a href="/docs/server/engines#separate-broker-and-presence-manager">Engines and Scalability</a> documentation chapter.</p>
<p>Configuring the NATS broker as an alternative to Redis is now more straightforward, and adding custom brokers is simpler than before.</p>
<p>One potentially useful application of this flexibility is using separate Redis installations for the Broker and PresenceManager, allowing them to scale independently. Alternatively, you could use NATS for a &quot;at most once&quot; broker implementation while keeping Redis for presence management. This provides more flexibility for Centrifugo OSS users to tailor their setups to their specific needs.</p>
<p>We continue to support configuring the Redis engine in Centrifugo v6, as this approach works well for many users and remains the default recommendation. With the new configuration layout, it looks like this:</p>
<div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockTitle_OeMC">config.yaml</div><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token key atrule">engine</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token key atrule">type</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> redis</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token key atrule">redis</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token key atrule">address</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> localhost</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token number" style="color:rgb(247, 140, 108)">6379</span><br></span></code></pre></div></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="observability-enhancements">Observability enhancements<a href="#observability-enhancements" class="hash-link" aria-label="Direct link to Observability enhancements" title="Direct link to Observability enhancements">‚Äã</a></h2>
<p>Several useful metrics have been added to Centrifugo in v6 to improve monitoring and observability.</p>
<p>The first one, <code>centrifugo_client_connections_inflight</code>, shows the number of inflight connections over a specific transport. This is particularly useful when using WebSocket with fallbacks, as it allows you to easily see the percentage of users who are unable to establish a WebSocket connection.</p>
<p>The next metric, <code>centrifugo_command_errors_total</code>, is a counter that tracks API command errors with response code resolution.</p>
<p>Another counter, <code>centrifugo_api_command_errors_total</code>, helps identify which API commands return errors, including Centrifugo-specific error codes.</p>
<p>Asynchronous consumers now have dedicated metrics as well, allowing you to monitor the number of messages consumed by each consumer and the number of processing errors.</p>
<p>Centrifugo also provides metrics for the Redis broker PUB/SUB layer, such as the number of errors and the inflight buffered messages in PUB/SUB processor workers. These metrics are invaluable for monitoring the system and gaining a deeper understanding of its state.</p>
<p>For a full description of all available metrics in Centrifugo v6, see the <a href="/docs/server/observability#exposed-metrics">exposed metrics documentation</a>.</p>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="actualized-grafana-dashboard">Actualized Grafana dashboard<a href="#actualized-grafana-dashboard" class="hash-link" aria-label="Direct link to Actualized Grafana dashboard" title="Direct link to Actualized Grafana dashboard">‚Äã</a></h2>
<p>We understand how important it is to have a solid starting point for monitoring Centrifugo. That&#x27;s why we updated our <a href="https://grafana.com/grafana/dashboards/13039-centrifugo/" target="_blank" rel="noopener noreferrer">Grafana dashboard</a> to include all the new metrics added during the Centrifugo v5 lifecycle as well as those introduced in v6. The dashboard now features 42 panels (up from 22) for the OSS edition, providing a much better understanding of what&#x27;s happening with your installation.</p>
<p>We also reconsidered how rates are displayed on the dashboard. Instead of summing up rates per minute, we now display rates per second, which aligns more closely with common practices in the Prometheus ecosystem.</p>
<img src="/img/grafana.jpg" alt="Updated Grafana dashboard for Centrifugo">
<p>Additionally, we&#x27;ve expanded the Grand Chat tutorial to include a <a href="/docs/tutorial/monitoring">new chapter on integrating a Prometheus and Grafana stack</a> with the tutorial messenger application.</p>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="other-improvements">Other improvements<a href="#other-improvements" class="hash-link" aria-label="Direct link to Other improvements" title="Direct link to Other improvements">‚Äã</a></h2>
<p>Other improvements introduced in the v6 release include:</p>
<ul>
<li>The ability to set custom <a href="/docs/server/configuration#http_serverinternal_tls">TLS configurations for internal</a> HTTP endpoints. Previously, it was only possible to disable TLS for internal endpoints while keeping TLS for external ones.</li>
<li>Added TLS support for PostgreSQL clients, including support for asynchronous consumers from PostgreSQL outbox tables, database connections, and PostgreSQL-based push notification queue clients.</li>
<li>The ability to configure custom TLS settings for the proxy HTTP client.</li>
<li>A new <code>message_size_limit</code> option for WebTransport, which effectively limits the maximum size of individual messages sent through a WebTransport connection.</li>
<li>Improved logging for TLS configuration at the debug level during startup to help diagnose issues with TLS setups.</li>
<li>Centrifugo now supports <code>.env</code> file with environment variables ‚Äì can be handy for local development.</li>
<li>Redis Cluster and Sentinel setups can now be fully configured using the Redis <code>address</code> option, with support for <code>redis+cluster://</code> and <code>redis+sentinel://</code> schemes. Previously, the <code>address</code> option only supported standalone single Redis setups. A key addition is the ability to set different Redis master names for setups reusing the same Sentinel nodes to manage different Redis shards. This approach also simplifies Redis configuration, especially for sharded setups, as each shard can be represented by a separate address string with its own Redis options in the <code>address</code> array. See the updated <a href="/docs/server/engines">Engines and Scalability</a> documentation chapter.</li>
<li>Refactored logging throughout the Centrifugo source code, making it more straightforward and concise. This eliminated the dependency on the <a href="https://github.com/centrifugal/centrifuge" target="_blank" rel="noopener noreferrer">Centrifuge</a> <code>Node</code> object in many places where it was used only for logging purposes ‚Äì an awkward legacy now resolved. This refactor also allowed us to utilize the <code>zerolog</code> library for the fastest way to write logs, with strictly typed log values replacing the previously used untyped field maps.</li>
<li>Centrifugo users from Mayflower needed a way to determine the best Redis setup for their load profile, so we created a <a href="https://github.com/centrifugal/centrifuge/tree/master/_examples/redis_benchmark" target="_blank" rel="noopener noreferrer">simple benchmarking tool</a> to simulate Centrifugo-specific loads on Redis.</li>
</ul>
<p>Additionally, a significant amount of work has been done on the documentation:</p>
<ul>
<li>All chapters have been reviewed, and configuration samples have been updated.</li>
</ul>
<p>Finally, we updated our official <a href="https://github.com/centrifugal/helm-charts" target="_blank" rel="noopener noreferrer">Helm chart</a> and the <a href="https://github.com/centrifugal/grand-chat-tutorial" target="_blank" rel="noopener noreferrer">source code of the Grand Chat Tutorial</a> to reflect the changes in v6.</p>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="centrifugo-pro-improvements">Centrifugo PRO improvements<a href="#centrifugo-pro-improvements" class="hash-link" aria-label="Direct link to Centrifugo PRO improvements" title="Direct link to Centrifugo PRO improvements">‚Äã</a></h2>
<p>Centrifugo PRO v6, as usual, inherits all the changes from the OSS edition. The configuration layout refactoring has also affected some parts of the Centrifugo PRO configuration. Notably, the new <code>defaultconfig</code> and <code>defaultenv</code> CLI commands work seamlessly with Centrifugo PRO as well.</p>
<p>Beyond the configuration layout adjustments, several improvements have been made to Centrifugo PRO features.</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="improved-channel-state-events">Improved channel state events<a href="#improved-channel-state-events" class="hash-link" aria-label="Direct link to Improved channel state events" title="Direct link to Improved channel state events">‚Äã</a></h3>
<p>In v6, we have taken a step forward with the Centrifugo PRO <a href="https://centrifugal.dev/docs/pro/channel_state_events" target="_blank" rel="noopener noreferrer">channel state events</a> feature.</p>
<p>We addressed an edge case where the first <code>occupied</code> event in a channel might not be delivered due to a race condition. Additionally, the processing of the <code>vacated</code> events queue has been made more efficient.</p>
<p>Furthermore, if a channel state proxy is defined in a namespace, it is no longer necessary to explicitly provide an array of events to send. Once the proxy is enabled, Centrifugo PRO will send both <code>occupied</code> and <code>vacated</code> events by default.</p>
<p>That said, we still consider this feature to be in an alpha state.</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="dedicated-postgresql-for-push-notifications-queue">Dedicated PostgreSQL for push notifications queue<a href="#dedicated-postgresql-for-push-notifications-queue" class="hash-link" aria-label="Direct link to Dedicated PostgreSQL for push notifications queue" title="Direct link to Dedicated PostgreSQL for push notifications queue">‚Äã</a></h3>
<p>A dedicated PostgreSQL <a href="https://centrifugal.dev/docs/pro/push_notifications" target="_blank" rel="noopener noreferrer">push notifications</a> queue configuration has been added in Centrifugo PRO. This means it is no longer necessary to use the same PostgreSQL instance for the push notifications queue and device management ‚Äì they can now be separate.</p>
<p>If you are using Centrifugo push notifications solely for broadcasting pushes to known FCM/APNs/HMS tokens, without utilizing the device management API, you can avoid the creation of extra tables in PostgreSQL that Centrifugo would otherwise create for device data storage and related functionality.</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="tutorial-for-push-notifications">Tutorial for push notifications<a href="#tutorial-for-push-notifications" class="hash-link" aria-label="Direct link to Tutorial for push notifications" title="Direct link to Tutorial for push notifications">‚Äã</a></h3>
<p>We have <a href="/docs/tutorial/push_notifications">extended the Grand Chat tutorial</a> to include a new appendix chapter on integrating push notifications with Centrifugo PRO. This tutorial will help you understand how to send Web push notifications to mobile devices using Centrifugo PRO and FCM.</p>
<p>While the chapter is still under construction, it already includes all the necessary parts combined into a working implementation.</p>
<video width="100%" loop="" muted="" controls="" src="/img/grand-chat-tutorial-demo-push.mp4"></video>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="generalized-channel-patterns">Generalized channel patterns<a href="#generalized-channel-patterns" class="hash-link" aria-label="Direct link to Generalized channel patterns" title="Direct link to Generalized channel patterns">‚Äã</a></h3>
<p>Centrifugo PRO enhances channel configuration with the <a href="https://centrifugal.dev/docs/pro/channel_patterns" target="_blank" rel="noopener noreferrer">Channel Patterns</a> feature. This introduces a flexible way to model channels, similar to how developers configure routes for HTTP request processing in HTTP servers.</p>
<p>Previously, PRO users who wanted to use channel patterns had to completely replace the general namespaces mechanism with patterns. In v6, channel patterns can now be used alongside Centrifugo OSS namespaces.</p>
<p>Each channel namespace can include a <code>pattern</code> string option to designate it as a <strong>pattern namespace</strong>. Namespaces with patterns will only be resolved if the channel matches the defined pattern. This enables the use of patterns for some channels and simple prefix-based namespacing for others, making it much easier to transition from Centrifugo OSS to Centrifugo PRO. Channel namespace configurations can now be updated gradually.</p>
<p>Additionally, features that were previously unavailable for channel patterns, such as automatic personal channel subscriptions, are now accessible to PRO users. However, the channel patterns feature must still be explicitly enabled, as it is not enabled by default. This avoids introducing unintended side effects for setups transitioning to the PRO version, especially those with channels starting with <code>/</code> (used for channels without a namespace).</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="namespace-resolution-for-metrics">Namespace resolution for metrics<a href="#namespace-resolution-for-metrics" class="hash-link" aria-label="Direct link to Namespace resolution for metrics" title="Direct link to Namespace resolution for metrics">‚Äã</a></h3>
<p>Centrifugo PRO already supported channel namespace resolution for transport message sent/received metrics. This feature is very useful for setups with many namespaces, as it helps identify which namespaces consume more bandwidth.</p>
<p>In v6, we‚Äôve expanded this capability by providing channel namespace resolution for all Centrifugo metrics related to channels. This enhancement offers deeper insights into how Centrifugo is being used in your setup and enables data-driven business decisions.</p>
<p>For example, you can now segment metrics by channel namespace for metrics such as:</p>
<ul>
<li><code>centrifugo_node_messages_sent_count</code> / <code>centrifugo_node_messages_received_count</code></li>
<li><code>centrifugo_client_command_duration_seconds</code></li>
<li><code>centrifugo_client_num_reply_errors</code></li>
<li>and many more</li>
</ul>
<p>This extended visibility makes it easier to monitor, analyze, and optimize your Centrifugo setup.</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="clients-and-subscriptions-inflight">Clients and subscriptions inflight<a href="#clients-and-subscriptions-inflight" class="hash-link" aria-label="Direct link to Clients and subscriptions inflight" title="Direct link to Clients and subscriptions inflight">‚Äã</a></h3>
<p>Centrifugo PRO&#x27;s ClickHouse analytics previously enabled building client connection distributions using client name and app version segmentation. This made it possible to understand how many clients from different environments ‚Äì such as browsers, Android, or iOS devices ‚Äì were currently connected to your Centrifugo setup. This functionality leveraged the fact that our SDKs pass the SDK name to the server and provide a way to redefine it.</p>
<p>In Centrifugo v6 PRO, this information is now exposed directly as part of Prometheus metrics through the <code>centrifugo_client_connections_inflight</code> gauge. To avoid cardinality issues, Centrifugo requires explicit configuration of registered client names and versions.</p>
<p>Additionally, Centrifugo v6 PRO introduces the <code>centrifugo_client_subscriptions_inflight</code> metric, which includes both client name and channel namespace resolution. These metrics offer valuable insights into current and historical Centrifugo usage.</p>
<p>While these metrics are extremely useful, the ClickHouse analytics feature still provides a deeper level of resolution for individual connections and channel subscriptions. However, the use of ClickHouse can now be deferred if these new metrics provide sufficient data to address your needs.</p>
<p>Moreover, the metrics mentioned above, including channel namespace resolution and inflight connections/subscriptions, are now integrated into Centrifugo&#x27;s <a href="https://grafana.com/grafana/dashboards/13039-centrifugo/" target="_blank" rel="noopener noreferrer">official Grafana dashboard</a>.</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="sentry-integration">Sentry integration<a href="#sentry-integration" class="hash-link" aria-label="Direct link to Sentry integration" title="Direct link to Sentry integration">‚Äã</a></h3>
<p>The next improvement for Centrifugo PRO observability is integration with <a href="https://sentry.io/" target="_blank" rel="noopener noreferrer">Sentry</a>.</p>
<p>With just <a href="/docs/pro/observability_enhancements#sentry-integration">a couple of lines in the configuration</a>, you can enable this feature:</p>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  ...</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token property">&quot;sentry&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token property">&quot;enabled&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token boolean" style="color:rgb(255, 88, 116)">true</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token property">&quot;dsn&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;your-project-public-dsn&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><br></span></code></pre></div></div>
<p>‚Äì and you will see Centrifugo PRO errors collected by your self-hosted or cloud Sentry installation.</p>
<img src="/img/sentry.jpg">
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="leverage-redis-replicas">Leverage Redis replicas<a href="#leverage-redis-replicas" class="hash-link" aria-label="Direct link to Leverage Redis replicas" title="Direct link to Leverage Redis replicas">‚Äã</a></h3>
<p>Some Centrifugo users have Redis setups configured with replication. This might be a Redis Sentinel-based primary-replica setup or a Redis Cluster where each shard consists of a primary and several replicas.</p>
<p>Centrifugo PRO v6 <a href="/docs/pro/scalability#leverage-redis-replicas">enables leveraging existing replicas</a> for specific functionalities:</p>
<ul>
<li><strong>Channel subscriptions</strong>: Move all channel subscriptions to a replica, reducing the load on the primary instance.</li>
<li><strong>Presence information</strong>: Read presence data from a replica, again offloading potentially slower requests from the primary.</li>
</ul>
<p>These enhancements extend Centrifugo&#x27;s scalability options and can help users optimize resource usage, potentially allowing them to maintain high performance on lower infrastructure resources.</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="redis-cluster-sharded-pubsub">Redis Cluster sharded PUB/SUB<a href="#redis-cluster-sharded-pubsub" class="hash-link" aria-label="Direct link to Redis Cluster sharded PUB/SUB" title="Direct link to Redis Cluster sharded PUB/SUB">‚Äã</a></h3>
<p>Another feature now available in Centrifugo PRO is support for sharded PUB/SUB in Redis Cluster. <a href="https://redis.io/docs/latest/develop/interact/pubsub/#sharded-pubsub" target="_blank" rel="noopener noreferrer">Sharded PUB/SUB</a> was introduced in Redis 7.0 to address the scalability challenges of PUB/SUB in Redis Cluster. In a normal PUB/SUB setup, all publications are propagated to all nodes in the Redis Cluster, reducing throughput as more Redis nodes are added. The utilization of Redis shards is usually unequal when using PUB/SUB in Redis Cluster as subscriptions land to one of the shards. With sharded PUB/SUB, the channel keyspace is divided into slots (similar to normal keys), and PUB/SUB operations are distributed across Redis Cluster nodes based on channel names.</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="custom-keyspace-partitioning">Custom keyspace partitioning<a href="#custom-keyspace-partitioning" class="hash-link" aria-label="Direct link to Custom keyspace partitioning" title="Direct link to Custom keyspace partitioning">‚Äã</a></h4>
<p>When using Centrifugo PRO <a href="/docs/pro/scalability#redis-cluster-sharded-pubsub">with the sharded PUB/SUB feature</a>, several important considerations must be kept in mind. This feature changes how Centrifugo constructs keys and channel names in Redis compared to the standard non-sharded setup. Specifically, Centrifugo divides the channel space into a configurable number of &quot;partitions,&quot; typically 64 to 128 (though this can be adjusted based on your needs).</p>
<p>Partitioning ensures compatibility with Redis Cluster&#x27;s slot system while maintaining a manageable number of connections between Centrifugo and Redis. Each partition uses a dedicated connection for PUB/SUB communication with the Redis Cluster.</p>
<p>Without partitioning, each Centrifugo node could potentially create up to 16,384 connections to the Redis Cluster‚Äîone for each cluster slot‚Äîwhich is impractical. The partitioning strategy avoids this issue and ensures efficient and scalable communication.</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="when-to-use-sharded-pubsub">When to Use Sharded PUB/SUB<a href="#when-to-use-sharded-pubsub" class="hash-link" aria-label="Direct link to When to Use Sharded PUB/SUB" title="Direct link to When to Use Sharded PUB/SUB">‚Äã</a></h4>
<p>Given implementation details mentioned, we recommend using Redis sharded PUB/SUB only if:</p>
<ol>
<li>You are already using a Redis Cluster.</li>
<li>You are approaching the scalability limits of your current setup.</li>
</ol>
<p>Switching to sharded PUB/SUB mode, despite the changes in keys and channel names in Redis, can significantly improve your system&#x27;s ability to handle larger workloads.</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="scaling-beyond-a-single-redis-cluster">Scaling Beyond a Single Redis Cluster<a href="#scaling-beyond-a-single-redis-cluster" class="hash-link" aria-label="Direct link to Scaling Beyond a Single Redis Cluster" title="Direct link to Scaling Beyond a Single Redis Cluster">‚Äã</a></h4>
<p>If you reach the scalability limits of a single Redis Cluster with sharded PUB/SUB, you can scale further by adding additional, isolated Redis Clusters. Centrifugo can be configured to use multiple clusters, enabling scaling similar to its consistent sharding mechanism over isolated single Redis instances. In this setup, sharding occurs across multiple Redis Clusters.</p>
<p><img decoding="async" loading="lazy" alt="redis" src="/assets/images/redis_arch-2eed8366b3d81263ea9ec2201512f964.png" width="2535" height="1306" class="img_ev3q"></p>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="migrate-to-v6">Migrate to v6<a href="#migrate-to-v6" class="hash-link" aria-label="Direct link to Migrate to v6" title="Direct link to Migrate to v6">‚Äã</a></h2>
<p>For those who are not using Tarantool or SockJS, migrating to Centrifugo v6 is primarily a matter of updating the Centrifugo server configuration.</p>
<p>We understand that, given the nature and number of configuration changes, this may not be straightforward. To simplify the migration process, we&#x27;ve prepared an automatic configuration migration tool (which supports both file and environment configuration migration). You can find more details in the <a href="/docs/getting-started/migration_v6">Centrifugo v6 migration guide</a>.</p>
<p>The client protocol, server API protocol, and proxy event protocol have remained unchanged. Therefore, after running Centrifugo v6 with a properly updated configuration, you can expect zero issues (well, zero new issues) with your existing integrations. If you have ‚Äì let us know. If you need assistance with the migration process or have any other Centrifugo-related questions, check out our <a href="https://centrifugal.dev/docs/getting-started/community" target="_blank" rel="noopener noreferrer">community channels</a> for support.</p>
<p>We hope you enjoy the new Centrifugo! It&#x27;s cleaner, simpler to extend, more developer-friendly, and comes with useful features. As always, let the Centrifugal force be with you üñ≤</p></div><footer class="docusaurus-mt-lg"><div class="row margin-top--sm theme-blog-footer-edit-meta-row"><div class="col"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a rel="tag" class="tag_zVej tagRegular_sFm0" href="/blog/tags/centrifugo">centrifugo</a></li><li class="tag_QGVx"><a rel="tag" class="tag_zVej tagRegular_sFm0" href="/blog/tags/release">release</a></li></ul></div></div><div class="row margin-top--sm theme-blog-footer-edit-meta-row"><div class="col"><a href="https://github.com/centrifugal/centrifugal.dev/edit/main/blog/2025-01-16-centrifugo-v6-released.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Blog post page navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/blog/2025/04/28/websocket-real-time-leaderboard"><div class="pagination-nav__sublabel">Newer post</div><div class="pagination-nav__label">Building a real-time WebSocket leaderboard with Centrifugo and Redis</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/blog/2024/12/23/centrifugo-v5-milestones"><div class="pagination-nav__sublabel">Older post</div><div class="pagination-nav__label">Notable Centrifugo v5 milestones in 2024</div></a></nav></main><div class="col col--2"><div class="tableOfContents_bqdL thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#why-centrifugo-v6-was-required" class="table-of-contents__link toc-highlight">Why Centrifugo v6 was required?</a></li><li><a href="#removing-sockjs" class="table-of-contents__link toc-highlight">Removing SockJS</a></li><li><a href="#removing-tarantool" class="table-of-contents__link toc-highlight">Removing Tarantool</a></li><li><a href="#configuration-refactoring" class="table-of-contents__link toc-highlight">Configuration refactoring</a></li><li><a href="#tls-config-unification" class="table-of-contents__link toc-highlight">TLS config unification</a></li><li><a href="#proxy-config-improvements" class="table-of-contents__link toc-highlight">Proxy config improvements</a></li><li><a href="#defaultconfig-cli-helper" class="table-of-contents__link toc-highlight">defaultconfig cli helper</a></li><li><a href="#defaultenv-cli-helper" class="table-of-contents__link toc-highlight">defaultenv cli helper</a></li><li><a href="#headers-emulation" class="table-of-contents__link toc-highlight">Headers emulation</a></li><li><a href="#publication-data-mode-for-kafka-consumers" class="table-of-contents__link toc-highlight">Publication data mode for Kafka consumers</a></li><li><a href="#separate-broker-and-presence-manager" class="table-of-contents__link toc-highlight">Separate broker and presence manager</a></li><li><a href="#observability-enhancements" class="table-of-contents__link toc-highlight">Observability enhancements</a></li><li><a href="#actualized-grafana-dashboard" class="table-of-contents__link toc-highlight">Actualized Grafana dashboard</a></li><li><a href="#other-improvements" class="table-of-contents__link toc-highlight">Other improvements</a></li><li><a href="#centrifugo-pro-improvements" class="table-of-contents__link toc-highlight">Centrifugo PRO improvements</a><ul><li><a href="#improved-channel-state-events" class="table-of-contents__link toc-highlight">Improved channel state events</a></li><li><a href="#dedicated-postgresql-for-push-notifications-queue" class="table-of-contents__link toc-highlight">Dedicated PostgreSQL for push notifications queue</a></li><li><a href="#tutorial-for-push-notifications" class="table-of-contents__link toc-highlight">Tutorial for push notifications</a></li><li><a href="#generalized-channel-patterns" class="table-of-contents__link toc-highlight">Generalized channel patterns</a></li><li><a href="#namespace-resolution-for-metrics" class="table-of-contents__link toc-highlight">Namespace resolution for metrics</a></li><li><a href="#clients-and-subscriptions-inflight" class="table-of-contents__link toc-highlight">Clients and subscriptions inflight</a></li><li><a href="#sentry-integration" class="table-of-contents__link toc-highlight">Sentry integration</a></li><li><a href="#leverage-redis-replicas" class="table-of-contents__link toc-highlight">Leverage Redis replicas</a></li><li><a href="#redis-cluster-sharded-pubsub" class="table-of-contents__link toc-highlight">Redis Cluster sharded PUB/SUB</a></li></ul></li><li><a href="#migrate-to-v6" class="table-of-contents__link toc-highlight">Migrate to v6</a></li></ul></div></div></div></div></div><footer class="theme-layout-footer footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Contacts</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/company">About us</a></li><li class="footer__item"><a href="mailto:hello@centrifugal.dev" target="_blank" rel="noopener noreferrer" class="footer__link-item">Send e-mail</a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://t.me/joinchat/U57MI8Lam9mhpuhd" target="_blank" rel="noopener noreferrer" class="footer__link-item">Telegram<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://discord.gg/tYgADKx" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://twitter.com/centrifugalabs" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/docs/attributions">Attributions</a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright ¬© 2025 Centrifugal Labs LTD</div></div></div></footer></div>
</body>
</html>
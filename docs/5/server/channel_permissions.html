<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-5 docs-doc-page docs-doc-id-server/channel_permissions" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.7.0">
<title data-rh="true">Channel permission model | Centrifugo</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://centrifugal.dev/img/centrifugo_soc.png"><meta data-rh="true" name="twitter:image" content="https://centrifugal.dev/img/centrifugo_soc.png"><meta data-rh="true" property="og:url" content="https://centrifugal.dev/docs/5/server/channel_permissions"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="5"><meta data-rh="true" name="docusaurus_tag" content="docs-default-5"><meta data-rh="true" name="docsearch:version" content="5"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-5"><meta data-rh="true" property="og:title" content="Channel permission model | Centrifugo"><meta data-rh="true" name="description" content="When using Centrifugo server API you don&#x27;t need to think about channel permissions at all – everything is allowed. In server API case, request to Centrifugo must be issued by your application backend – so you have all the power to check any required permissions before issuing API request to Centrifugo."><meta data-rh="true" property="og:description" content="When using Centrifugo server API you don&#x27;t need to think about channel permissions at all – everything is allowed. In server API case, request to Centrifugo must be issued by your application backend – so you have all the power to check any required permissions before issuing API request to Centrifugo."><link data-rh="true" rel="icon" href="/img/favicon.png"><link data-rh="true" rel="canonical" href="https://centrifugal.dev/docs/5/server/channel_permissions"><link data-rh="true" rel="alternate" href="https://centrifugal.dev/docs/5/server/channel_permissions" hreflang="en"><link data-rh="true" rel="alternate" href="https://centrifugal.dev/docs/5/server/channel_permissions" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://EPXZ1LXJ33-dsn.algolia.net" crossorigin="anonymous"><link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title=" RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title=" Atom Feed">
<link rel="alternate" type="application/json" href="/blog/feed.json" title=" JSON Feed">

<link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=G-NZRQD92LEX"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-NZRQD92LEX",{anonymize_ip:!0})</script>



<link rel="search" type="application/opensearchdescription+xml" title="Centrifugo" href="/opensearch.xml">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.3/font/bootstrap-icons.css"><link rel="stylesheet" href="/assets/css/styles.c8d82cd5.css">
<script src="/assets/js/runtime~main.47e1954c.js" defer="defer"></script>
<script src="/assets/js/main.48ec878f.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"dark")}(),function(){try{const n=new URLSearchParams(window.location.search).entries();for(var[t,e]of n)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top navbarHideable_m1mJ"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.svg" alt="Centrifugo Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/logo.svg" alt="Centrifugo Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">Centrifugo</b></a><a class="navbar__item navbar__link" href="/docs/5/getting-started/introduction">Getting Started</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/5/server/configuration">Server guide</a><a class="navbar__item navbar__link" href="/docs/5/transports/overview">Real-time transports / SDK</a><a class="navbar__item navbar__link" href="/docs/5/pro/overview">Centrifugo PRO ♻️</a><a class="navbar__item navbar__link" href="/docs/5/faq">FAQ</a><a class="navbar__item navbar__link" href="/docs/5/tutorial/intro">Grand tutorial</a><a class="navbar__item navbar__link" href="/blog">Blog</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/centrifugal/centrifugo" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-github-link" aria-label="GitHub repository"></a><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a class="navbar__link" aria-haspopup="true" aria-expanded="false" role="button" href="/docs/5/server/channel_permissions">v5</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/docs/server/channel_permissions">v6</a></li><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/docs/5/server/channel_permissions">v5</a></li><li><a class="dropdown__link" href="/docs/4/server/channel_permissions">v4</a></li><li><a class="dropdown__link" href="/docs/3/getting-started/introduction">v3</a></li></ul></div><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently dark mode)" aria-label="Switch between dark and light mode (currently dark mode)" aria-live="polite" aria-pressed="true"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search (Command+K)"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20" aria-hidden="true"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd sidebarWithHideableNavbar_wUlq"><a tabindex="-1" class="sidebarLogo_isFc" href="/"><img src="/img/logo.svg" alt="Centrifugo Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/logo.svg" alt="Centrifugo Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"><b>Centrifugo</b></a><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/5/server/configuration">Configure Centrifugo</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/5/server/server_api">Server API walkthrough</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/5/server/authentication">Client JWT authentication</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/5/server/channels">Channels and namespaces</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" href="/docs/5/server/channel_permissions">Channel permission model</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/5/server/channel_token_auth">Channel JWT authorization</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/5/server/server_subs">Server-side subscriptions</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/5/server/engines">Engines and scalability</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/5/server/consumers">Async consumers</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/5/server/history_and_recovery">History and recovery</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/5/server/cache_recovery">Cache recovery mode</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/5/server/delta_compression">Delta compression</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/5/server/presence">Online presence</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/5/server/proxy">Proxy events to the backend</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/5/server/proxy_streams">Proxy subscription streams</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/5/server/admin_web">Admin web UI</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/5/server/observability">Server observability</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/5/server/infra_tuning">Infrastructure tuning</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/5/server/load_balancing">Load balancing</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/5/server/tls">Configure TLS</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/5/server/codes">Client protocol codes</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/5/server/console_commands">Helper CLI commands</a></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="theme-doc-version-banner alert alert--warning margin-bottom--md" role="alert"><div>This is documentation for <!-- -->Centrifugo<!-- --> <b>v5</b>, which is no longer actively maintained.</div><div class="margin-top--md">For up-to-date documentation, see the <b><a href="/docs/server/channel_permissions">latest version</a></b> (<!-- -->v6<!-- -->).</div></div><div class="docItemContainer_Djhp"><article><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Channel permission model</h1></header><p>When using Centrifugo <a href="/docs/5/server/server_api">server API</a> you don&#x27;t need to think about channel permissions at all – everything is allowed. In server API case, request to Centrifugo must be issued by your application backend – so you have all the power to check any required permissions before issuing API request to Centrifugo.</p>
<p>The situation is different when we are talking about client real-time API.</p>
<p>In order to configure which client (i.e. connection established using one of supported bidirectional real-time transports) can subscribe to channels and call publish, history and presence real-time APIs Centrifugo provides several ways to configure the desired behavior.</p>
<p>Let&#x27;s start from looking at Centrifugo subscribe permission model.</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="subscribe-permission-model">Subscribe permission model<a href="#subscribe-permission-model" class="hash-link" aria-label="Direct link to Subscribe permission model" title="Direct link to Subscribe permission model">​</a></h3>
<p>By default, client&#x27;s attempt to subscribe on a channel will be rejected by a server with <code>103: permission denied</code> error. There are several approaches how to control channel subscribe permissions:</p>
<ul>
<li><a href="#provide-subscription-token">Provide subscription token</a></li>
<li><a href="#configure-subscribe-proxy">Configure subscribe proxy</a></li>
<li><a href="#use-user-limited-channels">Use user-limited channels</a></li>
<li><a href="#use-allow_subscribe_for_client-namespace-option">Use subscribe_allowed_for_client namespace option</a></li>
<li><a href="#subscribe-capabilities-in-connection-token">Subscribe capabilities in connection token</a></li>
<li><a href="#subscribe-capabilities-in-connect-proxy">Subscribe capabilities in connect proxy</a></li>
</ul>
<p>Below, we are describing those in detail.</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="provide-subscription-token">Provide subscription token<a href="#provide-subscription-token" class="hash-link" aria-label="Direct link to Provide subscription token" title="Direct link to Provide subscription token">​</a></h4>
<p>A client can provide a subscription token in subscribe request. See <a href="/docs/5/server/channel_token_auth">the format of the token</a>.</p>
<p>If client provides a valid token then subscription will be accepted. In Centrifugo PRO subscription token can additionally grant <code>publish</code>, <code>history</code> and <code>presence</code> permissions to a client.</p>
<div class="theme-admonition theme-admonition-caution admonition_xJq3 alert alert--warning"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>caution</div><div class="admonitionContent_BuS1"><p>For namespaces with <code>allow_subscribe_for_client</code> option ON Centrifugo does not allow subscribing on channels starting with <code>channel_private_prefix</code> (<code>$</code> by default) without token. This limitation exists to help users migrate to Centrifugo v4 without security risks.</p></div></div>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="configure-subscribe-proxy">Configure subscribe proxy<a href="#configure-subscribe-proxy" class="hash-link" aria-label="Direct link to Configure subscribe proxy" title="Direct link to Configure subscribe proxy">​</a></h4>
<p>If client subscribes on a namespace with configured subscribe proxy then depending on proxy response subscription will be accepted or not.</p>
<p>If a namespace has configured subscribe proxy, but user came with a token – then subscribe proxy is not used, we are relying on token in this case. If a namespace has subscribe proxy, but user subscribes on a user-limited channel – then subscribe proxy is not used also.</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="use-user-limited-channels">Use user-limited channels<a href="#use-user-limited-channels" class="hash-link" aria-label="Direct link to Use user-limited channels" title="Direct link to Use user-limited channels">​</a></h4>
<p>If client subscribes on a user-limited channel and there is a user ID match then subscription will be accepted.</p>
<div class="theme-admonition theme-admonition-caution admonition_xJq3 alert alert--warning"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>caution</div><div class="admonitionContent_BuS1"><p>User-limited channels must be enabled in a namespace using <code>allow_user_limited_channels</code> option.</p></div></div>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="use-allow_subscribe_for_client-namespace-option">Use allow_subscribe_for_client namespace option<a href="#use-allow_subscribe_for_client-namespace-option" class="hash-link" aria-label="Direct link to Use allow_subscribe_for_client namespace option" title="Direct link to Use allow_subscribe_for_client namespace option">​</a></h4>
<p><code>allow_subscribe_for_client</code> allows all authenticated non-anonymous connections to subscribe on all channels in a namespace.</p>
<div class="theme-admonition theme-admonition-caution admonition_xJq3 alert alert--warning"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>caution</div><div class="admonitionContent_BuS1"><p>Turning this option on effectively makes namespace public – no subscribe permissions will be checked (only the check that current connection is authenticated - i.e. has non-empty user ID). Make sure this is really what you want in terms of channels security.</p></div></div>
<p>To additionally allow subscribing to anonymous connections take a look at <code>allow_subscribe_for_anonymous</code> option.</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="subscribe-capabilities-in-connection-token">Subscribe capabilities in connection token<a href="#subscribe-capabilities-in-connection-token" class="hash-link" aria-label="Direct link to Subscribe capabilities in connection token" title="Direct link to Subscribe capabilities in connection token">​</a></h4>
<p><mark>Centrifugo PRO only</mark></p>
<p>Connection token can contain a capability object to allow user subscribe to channels.</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="subscribe-capabilities-in-connect-proxy">Subscribe capabilities in connect proxy<a href="#subscribe-capabilities-in-connect-proxy" class="hash-link" aria-label="Direct link to Subscribe capabilities in connect proxy" title="Direct link to Subscribe capabilities in connect proxy">​</a></h4>
<p><mark>Centrifugo PRO only</mark></p>
<p>Connect proxy can return capability object to allow user subscribe to channels.</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="publish-permission-model">Publish permission model<a href="#publish-permission-model" class="hash-link" aria-label="Direct link to Publish permission model" title="Direct link to Publish permission model">​</a></h3>
<div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</div><div class="admonitionContent_BuS1"><p>In idiomatic Centrifugo use case data should be published to channels from the application backend (over server API). In this case backend can validate data, save it into persistent storage before publishing in real-time towards connections. When publishing from the client-side backend does not receive publication data at all – it just goes through Centrifugo (except using publish proxy). There are cases when direct publications from the client-side are desired (like typing indicators in chat applications) though.</p></div></div>
<p>By default, client&#x27;s attempt to publish data into a channel will be rejected by a server with <code>103: permission denied</code> error. There are several approaches how to control channel publish permissions:</p>
<ul>
<li><a href="#configure-publish-proxy">Configure publish proxy</a></li>
<li><a href="#use-allow_publish_for_subscriber-namespace-option">Use allow_publish_for_subscriber namespace option</a></li>
<li><a href="#use-allow_publish_for_client-namespace-option">Use allow_publish_for_client namespace option</a></li>
<li><a href="#publish-capabilities-in-connection-token">Publish capabilities in connection token</a></li>
<li><a href="#publish-capability-in-subscription-token">Publish capability in subscription token</a></li>
<li><a href="#publish-capabilities-in-connect-proxy">Publish capabilities in connect proxy</a></li>
<li><a href="#publish-capability-in-subscribe-proxy">Publish capability in subscribe proxy</a></li>
</ul>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="use-allow_publish_for_client-namespace-option">Use allow_publish_for_client namespace option<a href="#use-allow_publish_for_client-namespace-option" class="hash-link" aria-label="Direct link to Use allow_publish_for_client namespace option" title="Direct link to Use allow_publish_for_client namespace option">​</a></h4>
<p><code>allow_publish_for_client</code> allows publications to channels of a namespace for all client connections.</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="use-allow_publish_for_subscriber-namespace-option">Use allow_publish_for_subscriber namespace option<a href="#use-allow_publish_for_subscriber-namespace-option" class="hash-link" aria-label="Direct link to Use allow_publish_for_subscriber namespace option" title="Direct link to Use allow_publish_for_subscriber namespace option">​</a></h4>
<p><code>allow_publish_for_subscriber</code> allows publications to channels of a namespace for all connections subscribed on a channel they want to publish data into.</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="configure-publish-proxy">Configure publish proxy<a href="#configure-publish-proxy" class="hash-link" aria-label="Direct link to Configure publish proxy" title="Direct link to Configure publish proxy">​</a></h4>
<p>If client publishes to a namespace with configured publish proxy then depending on proxy response publication will be accepted or not.</p>
<p>Configured publish proxy always used??? (what if user has permission in token or allow_publish_for_client?)</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="publish-capabilities-in-connection-token">Publish capabilities in connection token<a href="#publish-capabilities-in-connection-token" class="hash-link" aria-label="Direct link to Publish capabilities in connection token" title="Direct link to Publish capabilities in connection token">​</a></h4>
<p><mark>Centrifugo PRO only</mark></p>
<p>Connection token can contain a capability object to allow client to publish to channels.</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="publish-capability-in-subscription-token">Publish capability in subscription token<a href="#publish-capability-in-subscription-token" class="hash-link" aria-label="Direct link to Publish capability in subscription token" title="Direct link to Publish capability in subscription token">​</a></h4>
<p><mark>Centrifugo PRO only</mark></p>
<p>Connection token can contain a capability object to allow client to publish to a channel.</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="publish-capabilities-in-connect-proxy">Publish capabilities in connect proxy<a href="#publish-capabilities-in-connect-proxy" class="hash-link" aria-label="Direct link to Publish capabilities in connect proxy" title="Direct link to Publish capabilities in connect proxy">​</a></h4>
<p><mark>Centrifugo PRO only</mark></p>
<p>Connect proxy can return capability object to allow client publish to certain channels.</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="publish-capability-in-subscribe-proxy">Publish capability in subscribe proxy<a href="#publish-capability-in-subscribe-proxy" class="hash-link" aria-label="Direct link to Publish capability in subscribe proxy" title="Direct link to Publish capability in subscribe proxy">​</a></h4>
<p><mark>Centrifugo PRO only</mark></p>
<p>Subscribe proxy can return capability object to allow subscriber publish to channel.</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="history-permission-model">History permission model<a href="#history-permission-model" class="hash-link" aria-label="Direct link to History permission model" title="Direct link to History permission model">​</a></h3>
<p>By default, client&#x27;s attempt to call history from a channel (with history retention configured) will be rejected by a server with <code>103: permission denied</code> error. There are several approaches how to control channel history permissions.</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="use-allow_history_for_subscriber-namespace-option">Use allow_history_for_subscriber namespace option<a href="#use-allow_history_for_subscriber-namespace-option" class="hash-link" aria-label="Direct link to Use allow_history_for_subscriber namespace option" title="Direct link to Use allow_history_for_subscriber namespace option">​</a></h4>
<p><code>allow_history_for_subscriber</code> allows history requests to all channels in a namespace for all client connections subscribed on a channel they want to call history for.</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="use-allow_history_for_client-namespace-option">Use allow_history_for_client namespace option<a href="#use-allow_history_for_client-namespace-option" class="hash-link" aria-label="Direct link to Use allow_history_for_client namespace option" title="Direct link to Use allow_history_for_client namespace option">​</a></h4>
<p><code>allow_history_for_client</code> allows history requests to all channels in a namespace for all client connections.</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="history-capabilities-in-connection-token">History capabilities in connection token<a href="#history-capabilities-in-connection-token" class="hash-link" aria-label="Direct link to History capabilities in connection token" title="Direct link to History capabilities in connection token">​</a></h4>
<p><mark>Centrifugo PRO only</mark></p>
<p>Connection token can contain a capability object to allow user call history for channels.</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="history-capabilities-in-subscription-token">History capabilities in subscription token<a href="#history-capabilities-in-subscription-token" class="hash-link" aria-label="Direct link to History capabilities in subscription token" title="Direct link to History capabilities in subscription token">​</a></h4>
<p><mark>Centrifugo PRO only</mark></p>
<p>Connection token can contain a capability object to allow user call history from a channel.</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="history-capabilities-in-connect-proxy">History capabilities in connect proxy<a href="#history-capabilities-in-connect-proxy" class="hash-link" aria-label="Direct link to History capabilities in connect proxy" title="Direct link to History capabilities in connect proxy">​</a></h4>
<p><strong>This is a Centrifugo PRO feature.</strong></p>
<p>Connect proxy can return capability object to allow client call history from certain channels.</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="history-capability-in-subscribe-proxy-response">History capability in subscribe proxy response<a href="#history-capability-in-subscribe-proxy-response" class="hash-link" aria-label="Direct link to History capability in subscribe proxy response" title="Direct link to History capability in subscribe proxy response">​</a></h4>
<p><mark>Centrifugo PRO only</mark></p>
<p>Subscribe proxy can return capability object to allow subscriber call history from channel.</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="presence-permission-model">Presence permission model<a href="#presence-permission-model" class="hash-link" aria-label="Direct link to Presence permission model" title="Direct link to Presence permission model">​</a></h3>
<p>By default, client&#x27;s attempt to call presence from a channel (with channel presence configured) will be rejected by a server with <code>103: permission denied</code> error. There are several approaches how to control channel presence permissions.</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="presence-capability-in-subscribe-proxy-response">Presence capability in subscribe proxy response<a href="#presence-capability-in-subscribe-proxy-response" class="hash-link" aria-label="Direct link to Presence capability in subscribe proxy response" title="Direct link to Presence capability in subscribe proxy response">​</a></h4>
<p>Subscribe proxy can return capability object to allow subscriber call presence from channel.</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="use-allow_presence_for_subscriber-namespace-option">Use allow_presence_for_subscriber namespace option<a href="#use-allow_presence_for_subscriber-namespace-option" class="hash-link" aria-label="Direct link to Use allow_presence_for_subscriber namespace option" title="Direct link to Use allow_presence_for_subscriber namespace option">​</a></h4>
<p><code>allow_presence_for_subscriber</code> allows presence requests to all channels in a namespace for all client connections subscribed on a channel they want to call presence for.</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="use-allow_presence_for_client-namespace-option">Use allow_presence_for_client namespace option<a href="#use-allow_presence_for_client-namespace-option" class="hash-link" aria-label="Direct link to Use allow_presence_for_client namespace option" title="Direct link to Use allow_presence_for_client namespace option">​</a></h4>
<p><code>allow_presence_for_client</code> allows presence requests to all channels in a namespace for all client connections.</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="presence-capabilities-in-connection-token">Presence capabilities in connection token<a href="#presence-capabilities-in-connection-token" class="hash-link" aria-label="Direct link to Presence capabilities in connection token" title="Direct link to Presence capabilities in connection token">​</a></h4>
<p><mark>Centrifugo PRO only</mark></p>
<p>Connection token can contain a capability object to allow user call presence for channels.</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="presence-capabilities-in-subscription-token">Presence capabilities in subscription token<a href="#presence-capabilities-in-subscription-token" class="hash-link" aria-label="Direct link to Presence capabilities in subscription token" title="Direct link to Presence capabilities in subscription token">​</a></h4>
<p><mark>Centrifugo PRO only</mark></p>
<p>Connection token can contain a capability object to allow user call presence of a channel.</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="presence-capabilities-in-connect-proxy">Presence capabilities in connect proxy<a href="#presence-capabilities-in-connect-proxy" class="hash-link" aria-label="Direct link to Presence capabilities in connect proxy" title="Direct link to Presence capabilities in connect proxy">​</a></h4>
<p><mark>Centrifugo PRO only</mark></p>
<p>Connect proxy can return capability object to allow client call presence from certain channels.</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="positioning-permission-model">Positioning permission model<a href="#positioning-permission-model" class="hash-link" aria-label="Direct link to Positioning permission model" title="Direct link to Positioning permission model">​</a></h3>
<p>Server can whether turn on positioning for all channels in a namespace using <code>&quot;force_positioning&quot;: true</code> option or client can create positioned subscriptions (but in this case client must have access to <code>history</code> capability).</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="recovery-permission-model">Recovery permission model<a href="#recovery-permission-model" class="hash-link" aria-label="Direct link to Recovery permission model" title="Direct link to Recovery permission model">​</a></h3>
<p>Server can whether turn on automatic recovery for all channels in a namespace using <code>&quot;force_recovery&quot;: true</code> option or client can create recoverable subscriptions (but in this case client must have access to <code>history</code> capability).</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="joinleave-permission-model">Join/Leave permission model<a href="#joinleave-permission-model" class="hash-link" aria-label="Direct link to Join/Leave permission model" title="Direct link to Join/Leave permission model">​</a></h3>
<p>Server can whether force sending join/leave messages to all subscribers for all channels in a namespace using <code>&quot;force_push_join_leave&quot;: true</code> option or client can ask server to include join/leave messages upon subscribing (but in this case client must have access to <code>presence</code> capability).</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"><a href="https://github.com/centrifugal/centrifugal.dev/edit/main/versioned_docs/version-5/server/channel_permissions.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/5/server/channels"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Channels and namespaces</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/5/server/channel_token_auth"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Channel JWT authorization</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#subscribe-permission-model" class="table-of-contents__link toc-highlight">Subscribe permission model</a></li><li><a href="#publish-permission-model" class="table-of-contents__link toc-highlight">Publish permission model</a></li><li><a href="#history-permission-model" class="table-of-contents__link toc-highlight">History permission model</a></li><li><a href="#presence-permission-model" class="table-of-contents__link toc-highlight">Presence permission model</a></li><li><a href="#positioning-permission-model" class="table-of-contents__link toc-highlight">Positioning permission model</a></li><li><a href="#recovery-permission-model" class="table-of-contents__link toc-highlight">Recovery permission model</a></li><li><a href="#joinleave-permission-model" class="table-of-contents__link toc-highlight">Join/Leave permission model</a></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Contact us</div><ul class="footer__items clean-list"><li class="footer__item"><a href="mailto:hello@centrifugal.dev" target="_blank" rel="noopener noreferrer" class="footer__link-item">Send e-mail</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://t.me/joinchat/U57MI8Lam9mhpuhd" target="_blank" rel="noopener noreferrer" class="footer__link-item">Telegram<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://discord.gg/tYgADKx" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://twitter.com/centrifugalabs" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/docs/attributions">Attributions</a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2025 Centrifugal Labs LTD</div></div></div></footer></div>
</body>
</html>
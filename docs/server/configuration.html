<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-server/configuration" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.7.0">
<title data-rh="true">Configure Centrifugo | Centrifugo</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://centrifugal.dev/img/centrifugo_soc.png"><meta data-rh="true" name="twitter:image" content="https://centrifugal.dev/img/centrifugo_soc.png"><meta data-rh="true" property="og:url" content="https://centrifugal.dev/docs/server/configuration"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Configure Centrifugo | Centrifugo"><meta data-rh="true" name="description" content="Centrifugo can start without any configuration – it runs out-of-the-box with enabled HTTP API endpoint and enabled WebSocket transport endpoint for client real-time connections. In most cases though, you still need to configure it to set authorization options for HTTP API, connection JWT authentication, or maybe authentication over connect proxy, describe the desired channel behaviour, and so on."><meta data-rh="true" property="og:description" content="Centrifugo can start without any configuration – it runs out-of-the-box with enabled HTTP API endpoint and enabled WebSocket transport endpoint for client real-time connections. In most cases though, you still need to configure it to set authorization options for HTTP API, connection JWT authentication, or maybe authentication over connect proxy, describe the desired channel behaviour, and so on."><link data-rh="true" rel="icon" href="/img/favicon.png"><link data-rh="true" rel="canonical" href="https://centrifugal.dev/docs/server/configuration"><link data-rh="true" rel="alternate" href="https://centrifugal.dev/docs/server/configuration" hreflang="en"><link data-rh="true" rel="alternate" href="https://centrifugal.dev/docs/server/configuration" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://EPXZ1LXJ33-dsn.algolia.net" crossorigin="anonymous"><link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title=" RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title=" Atom Feed">
<link rel="alternate" type="application/json" href="/blog/feed.json" title=" JSON Feed">

<link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=G-NZRQD92LEX"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-NZRQD92LEX",{anonymize_ip:!0})</script>



<link rel="search" type="application/opensearchdescription+xml" title="Centrifugo" href="/opensearch.xml">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.3/font/bootstrap-icons.css"><link rel="stylesheet" href="/assets/css/styles.c8d82cd5.css">
<script src="/assets/js/runtime~main.9010d894.js" defer="defer"></script>
<script src="/assets/js/main.48ec878f.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"dark")}(),function(){try{const n=new URLSearchParams(window.location.search).entries();for(var[t,e]of n)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top navbarHideable_m1mJ"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.svg" alt="Centrifugo Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/logo.svg" alt="Centrifugo Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">Centrifugo</b></a><a class="navbar__item navbar__link" href="/docs/getting-started/introduction">Getting Started</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/server/configuration">Server guide</a><a class="navbar__item navbar__link" href="/docs/transports/overview">Real-time transports / SDK</a><a class="navbar__item navbar__link" href="/docs/pro/overview">Centrifugo PRO ♻️</a><a class="navbar__item navbar__link" href="/docs/faq">FAQ</a><a class="navbar__item navbar__link" href="/docs/tutorial/intro">Grand tutorial</a><a class="navbar__item navbar__link" href="/blog">Blog</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/centrifugal/centrifugo" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-github-link" aria-label="GitHub repository"></a><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a class="navbar__link" aria-haspopup="true" aria-expanded="false" role="button" href="/docs/server/configuration">v6</a><ul class="dropdown__menu"><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/docs/server/configuration">v6</a></li><li><a class="dropdown__link" href="/docs/5/server/configuration">v5</a></li><li><a class="dropdown__link" href="/docs/4/server/configuration">v4</a></li><li><a class="dropdown__link" href="/docs/3/server/configuration">v3</a></li></ul></div><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently dark mode)" aria-label="Switch between dark and light mode (currently dark mode)" aria-live="polite" aria-pressed="true"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search (Command+K)"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20" aria-hidden="true"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd sidebarWithHideableNavbar_wUlq"><a tabindex="-1" class="sidebarLogo_isFc" href="/"><img src="/img/logo.svg" alt="Centrifugo Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/logo.svg" alt="Centrifugo Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"><b>Centrifugo</b></a><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" href="/docs/server/configuration">Configure Centrifugo</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/server/server_api">Server API walkthrough</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/server/authentication">Client JWT authentication</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/server/channels">Channels and namespaces</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/server/channel_permissions">Channel permission model</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/server/channel_token_auth">Channel JWT authorization</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/server/server_subs">Server-side subscriptions</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/server/engines">Engines and scalability</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/server/consumers">Async consumers</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/server/history_and_recovery">History and recovery</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/server/cache_recovery">Cache recovery mode</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/server/delta_compression">Delta compression</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/server/presence">Online presence</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/server/proxy">Proxy events to the backend</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/server/proxy_streams">Proxy subscription streams</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/server/admin_web">Admin web UI</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/server/observability">Server observability</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/server/infra_tuning">Infrastructure tuning</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/server/load_balancing">Load balancing</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/server/codes">Client protocol codes</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/server/console_commands">Helper CLI commands</a></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Configure Centrifugo</h1></header><p>Centrifugo can start without any configuration – it runs out-of-the-box with enabled HTTP API endpoint and enabled WebSocket transport endpoint for client real-time connections. In most cases though, you still need to configure it to set <a href="/docs/server/server_api#http-api-authorization">authorization options for HTTP API</a>, <a href="/docs/server/authentication">connection JWT authentication</a>, or maybe authentication over <a href="/docs/server/proxy">connect proxy</a>, describe the desired <a href="/docs/server/channels">channel behaviour</a>, and so on.</p>
<p>This document describes configuration principles and configuration sections, and most of the options available in Centrifugo. Where the feature requires more description we point from here to the dedicated documentation chapters.</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="lost-in-options-">Lost in options? 😵‍💫<a href="#lost-in-options-" class="hash-link" aria-label="Direct link to Lost in options? 😵‍💫" title="Direct link to Lost in options? 😵‍💫">​</a></h3>
<p>Before we start, a little disclaimer: Centrifugo has many configuration options. If you feel lost, you can always use the <a href="/docs/server/console_commands#defaultconfig">defaultconfig</a>, <a href="/docs/server/console_commands#defaultenv">defaultenv</a> and <a href="/docs/server/console_commands#configdoc">configdoc</a> CLI commands to check how config file options may be set and how environment variables should be named. Centrifugo also <a href="#validation-and-warnings-on-start">warns you in logs</a> on start if sth unknown found in the configuration file or environment variables.</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="configuration-sources">Configuration sources<a href="#configuration-sources" class="hash-link" aria-label="Direct link to Configuration sources" title="Direct link to Configuration sources">​</a></h3>
<p>Centrifugo can be configured in several ways:</p>
<ul>
<li>using command-line flags (highest priority – flags override everything)</li>
<li>environment variables (medium priority – env vars override config file options)</li>
<li>configuration file (lowest priority).</li>
</ul>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="command-line-flags">Command-line flags<a href="#command-line-flags" class="hash-link" aria-label="Direct link to Command-line flags" title="Direct link to Command-line flags">​</a></h3>
<p>Command-line options have the highest priority when set than other ways to configure Centrifugo.</p>
<p>Centrifugo supports several command-line flags. See <code>centrifugo -h</code> for available flags. Command-line flags limited to most frequently used. Mostly useful for development. In general, <strong>we recommend to avoid using flags for configuring Centrifugo in a production environment</strong> because flags often harder to redefine without changes in how Centrifugo deployed – prefer using environment variables or configuration file.</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="os-environment-variables">OS environment variables<a href="#os-environment-variables" class="hash-link" aria-label="Direct link to OS environment variables" title="Direct link to OS environment variables">​</a></h3>
<p>Environment variables have the second priority after flags. Flags override env vars, env vars override config file.</p>
<p>Almost all Centrifugo options can be set over env in the format <code>CENTRIFUGO_&lt;OPTION_NAME&gt;</code>. Setting options over environment variables is mostly straightforward – you just prefix the option used in configuration file with <code>CENTRIFUGO_</code>, make it uppercase and replace nested levels with <code>_</code>.</p>
<div class="theme-admonition theme-admonition-info admonition_xJq3 alert alert--info"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</div><div class="admonitionContent_BuS1"><p>There are some cases though where we need to configure arrays of objects. For arrays of objects Centrifugo either provides a way to point the specific array instance by name when setting environment variable, or provides a way to set the entire array of objects as a JSON string.</p></div></div>
<p>Boolean options can be set using strings according to Go language <a href="https://pkg.go.dev/strconv#ParseBool" target="_blank" rel="noopener noreferrer">ParseBool</a> function. I.e. to set <code>true</code> you can just use <code>&quot;true&quot;</code> value for an environment variable (or simply <code>&quot;1&quot;</code>). To set <code>false</code> use <code>&quot;false&quot;</code> or <code>&quot;0&quot;</code>.</p>
<p>Array of strings can be set over env using space-separated string values.</p>
<p>Let&#x27;s look at the example. Suppose the configuration file looks like this:</p>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockTitle_Ktv7">config.json</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token property">&quot;client&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token property">&quot;allowed_origins&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;https://mysite1.com&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;https://mysite2.com&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token property">&quot;prometheus&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token property">&quot;enabled&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token boolean" style="color:rgb(255, 88, 116)">true</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>The same may be achieved using environment variables in this way:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">export CENTRIFUGO_CLIENT_ALLOWED_ORIGINS=&quot;https://mysite1.com https://mysite2.com&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">export CENTRIFUGO_PROMETHEUS_ENABLED=&quot;true&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Empty environment variables are considered unset (!) and will fall back to the next configuration source.</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="configuration-file">Configuration file<a href="#configuration-file" class="hash-link" aria-label="Direct link to Configuration file" title="Direct link to Configuration file">​</a></h3>
<p>Configuration file supports all options mentioned in Centrifugo documentation and can be in one of three supported formats: JSON, YAML, or TOML.</p>
<p>Config file options have the lowest priority among configuration sources (i.e. option set over environment variable is preferred over the same option in config file).</p>
<p>One simple way to start with Centrifugo and its configuration is to run:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">centrifugo genconfig</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>This command generates <code>config.json</code> configuration file in a current directory. This file already has the minimal number which are often used set. It&#x27;s then possible to start Centrifugo with generated config file:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">centrifugo -c config.json</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="config-file-formats">Config file formats<a href="#config-file-formats" class="hash-link" aria-label="Direct link to Config file formats" title="Direct link to Config file formats">​</a></h2>
<p>Centrifugo supports three configuration file formats: JSON, YAML, or TOML.</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="json-config-format">JSON config format<a href="#json-config-format" class="hash-link" aria-label="Direct link to JSON config format" title="Direct link to JSON config format">​</a></h3>
<p>Here is an example of Centrifugo JSON configuration file:</p>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockTitle_Ktv7">config.json</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token property">&quot;client&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token property">&quot;token&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token property">&quot;hmac_secret_key&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;&lt;YOUR-SECRET-STRING-HERE&gt;&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token property">&quot;allowed_origins&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;http://localhost:3000&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token property">&quot;http_api&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token property">&quot;key&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;&lt;YOUR-API-KEY-HERE&gt;&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><code>client.token.hmac_secret_key</code> used to check JWT signature (more info about JWT in <a href="/docs/server/authentication">authentication chapter</a>). If you are using <a href="/docs/server/proxy#connect-proxy">connect proxy</a> then you may use Centrifugo without JWT.</p>
<p><code>http_api.key</code> used for Centrifugo API endpoint authorization, see more in <a href="/docs/server/server_api#http-api">chapter about server HTTP API</a>. Keep both values secret and never reveal them to clients.</p>
<p><code>client.allowed_origins</code> option <a href="#clientallowed_origins">described below</a>.</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="toml-config-format">TOML config format<a href="#toml-config-format" class="hash-link" aria-label="Direct link to TOML config format" title="Direct link to TOML config format">​</a></h3>
<p>Centrifugo also supports TOML format for configuration file:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">centrifugo --config=config.toml</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Where <code>config.toml</code> may contain sth like:</p>
<div class="language-toml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockTitle_Ktv7">config.toml</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-toml codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">[client]</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">allowed_origins = [ &quot;http://localhost:3000&quot; ]</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  [client.token]</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  hmac_secret_key = &quot;&lt;YOUR-SECRET-STRING-HERE&gt;&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">[http_api]</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">key = &quot;&lt;YOUR-API-KEY-HERE&gt;&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="yaml-config-format">YAML config format<a href="#yaml-config-format" class="hash-link" aria-label="Direct link to YAML config format" title="Direct link to YAML config format">​</a></h3>
<p>YAML format is also supported:</p>
<div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockTitle_Ktv7">config.yaml</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token key atrule">client</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token key atrule">token</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token key atrule">hmac_secret_key</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;&lt;YOUR-SECRET-STRING-HERE&gt;&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token key atrule">allowed_origins</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain"> http</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain">//localhost</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token number" style="color:rgb(247, 140, 108)">3000</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token key atrule">http_api</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token key atrule">key</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;&lt;YOUR-API-KEY-HERE&gt;&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="validation-and-warnings-on-start">Validation and warnings on start<a href="#validation-and-warnings-on-start" class="hash-link" aria-label="Direct link to Validation and warnings on start" title="Direct link to Validation and warnings on start">​</a></h2>
<p>Centrifugo validates configuration on start, in case the configuration is invalid server exits with code 1. See also some built-in <a href="/docs/server/console_commands">CLI helpers</a>.</p>
<p>Centrifugo also tries to help you find misconfigurations by writing logs on WARN level during server startup in case configuration file or environment variables have keys which are not known by Centrifugo. Unknown keys do not result into server exiting at this point.</p>
<p>It&#x27;s recommended to pay attention to logs on server start to ensure that configuration is correct.</p>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="http_server"><code>http_server</code><a href="#http_server" class="hash-link" aria-label="Direct link to http_server" title="Direct link to http_server">​</a></h2>
<p>Object.</p>
<p>Configuration options of Centrifugo HTTP server are combined under <code>http_server</code> section of configuration file.</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="http_serverport"><code>http_server.port</code><a href="#http_serverport" class="hash-link" aria-label="Direct link to http_serverport" title="Direct link to http_serverport">​</a></h3>
<p>String. Default: <code>&quot;8000&quot;</code>.</p>
<p>Port to bind Centrifugo to. Example:</p>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockTitle_Ktv7">config.json</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token property">&quot;http_server&quot;</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token property">&quot;port&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;8000&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Alternatively, to set over environment variables:</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">CENTRIFUGO_HTTP_SERVER_PORT=&quot;8000&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="http_serveraddress"><code>http_server.address</code><a href="#http_serveraddress" class="hash-link" aria-label="Direct link to http_serveraddress" title="Direct link to http_serveraddress">​</a></h3>
<p>String. Default: <code>&quot;&quot;</code>.</p>
<p>Bind your Centrifugo to a specific interface address. By default <code>&quot;&quot;</code> - listen on all available interfaces. Example:</p>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockTitle_Ktv7">config.json</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token property">&quot;http_server&quot;</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token property">&quot;address&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;0.0.0.0&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="http_servertls"><code>http_server.tls</code><a href="#http_servertls" class="hash-link" aria-label="Direct link to http_servertls" title="Direct link to http_servertls">​</a></h3>
<p><a href="#tls-config-object">Unified TLS object</a>. By default – disabled.</p>
<p>TLS layer is very important not only for securing your connections but also to increase a chance to establish Websocket connection.</p>
<div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</div><div class="admonitionContent_BuS1"><p>In most situations you better put TLS termination task on your reverse proxy/load balancing software such as Nginx. This can be a good thing for performance.</p></div></div>
<p>If you still need to configure Centrifugo server TLS then <code>tls</code> object can help you. This is a <a href="#tls-config-object">unified TLS object</a>. If set and enabled Centrifugo HTTP server will start with TLS support.</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="http_servertls_autocert"><code>http_server.tls_autocert</code><a href="#http_servertls_autocert" class="hash-link" aria-label="Direct link to http_servertls_autocert" title="Direct link to http_servertls_autocert">​</a></h3>
<p>Object. By default – disabled.</p>
<p>Centrifugo supports certificate loading and renewal from Let&#x27;s Encrypt using ACME protocol for HTTP server.</p>
<div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</div><div class="admonitionContent_BuS1"><p>In most situations you better put TLS termination task on your reverse proxy/load balancing software such as Nginx. This can be a good thing for performance.</p></div></div>
<p>For automatic certificates from Let&#x27;s Encrypt add into configuration file:</p>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockTitle_Ktv7">config.json</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token property">&quot;http_server&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token property">&quot;tls_autocert&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token property">&quot;enabled&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token boolean" style="color:rgb(255, 88, 116)">true</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token property">&quot;host_whitelist&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;www.example.com&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token property">&quot;cache_dir&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;/tmp/certs&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token property">&quot;email&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;user@example.com&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token property">&quot;http&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token boolean" style="color:rgb(255, 88, 116)">true</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token property">&quot;http_addr&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;:80&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><code>http_server.tls_autocert.enabled</code> (boolean) says Centrifugo that you want automatic certificate handling using ACME provider.</p>
<p><code>http_server.tls_autocert.host_whitelist</code> (string) is a string with your app domain address. This can be comma-separated
list. It&#x27;s optional but recommended for extra security.</p>
<p><code>http_server.tls_autocert.cache_dir</code> (string) is a path to a folder to cache issued certificate files. This is optional
but will increase performance.</p>
<p><code>http_server.tls_autocert.email</code> (string) is optional - it&#x27;s an email address ACME provider will send notifications
about problems with your certificates.</p>
<p><code>http_server.tls_autocert.http</code> (boolean) is an option to handle http_01 ACME challenge on non-TLS port.</p>
<p><code>http_server.tls_autocert.http_addr</code> (string) can be used to set address for handling http_01 ACME challenge (default is <code>:80</code>)</p>
<p>When configured correctly and your domain is valid (<code>localhost</code> will not work) - certificates will be retrieved on first request to Centrifugo.</p>
<p>Also Let&#x27;s Encrypt certificates will be automatically renewed.</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="http_servertls_external"><code>http_server.tls_external</code><a href="#http_servertls_external" class="hash-link" aria-label="Direct link to http_servertls_external" title="Direct link to http_servertls_external">​</a></h3>
<p>Boolean. Default: <code>false</code>.</p>
<p>When set to <code>true</code> Centrifugo will use TLS configuration from <code>tls</code> option only for external endpoints (i.e. for client-facing ones – WebSocket, SSE, and so on).</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="http_serverinternal_port"><code>http_server.internal_port</code><a href="#http_serverinternal_port" class="hash-link" aria-label="Direct link to http_serverinternal_port" title="Direct link to http_serverinternal_port">​</a></h3>
<p>String. Default: <code>&quot;&quot;</code>.</p>
<p>The port to bind internal endpoints to (string, by default <code>&quot;&quot;</code> – not used). When set Centrifugo will bind internal endpoints to this port. See more about internal endpoints <a href="#custom-internal-port">below</a>.</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="http_serverinternal_address"><code>http_server.internal_address</code><a href="#http_serverinternal_address" class="hash-link" aria-label="Direct link to http_serverinternal_address" title="Direct link to http_serverinternal_address">​</a></h3>
<p>String. Default: <code>&quot;&quot;</code>.</p>
<p>Bind internal endpoints to a specific interface address (string, by default <code>&quot;&quot;</code> - listen on all available interfaces).</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="http_serverinternal_tls"><code>http_server.internal_tls</code><a href="#http_serverinternal_tls" class="hash-link" aria-label="Direct link to http_serverinternal_tls" title="Direct link to http_serverinternal_tls">​</a></h3>
<p><a href="#tls-config-object">Unified TLS object</a>. By default – disabled.</p>
<p>This is useful when you want to use different TLS settings for internal endpoints (like Prometheus, debug, health, etc).</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="http_serverhttp3"><code>http_server.http3</code><a href="#http_serverhttp3" class="hash-link" aria-label="Direct link to http_serverhttp3" title="Direct link to http_serverhttp3">​</a></h3>
<p>Object.</p>
<p>Centrifugo experimentally supports HTTP/3. We can&#x27;t guarantee stability of this component at this point and given Centrifugo is usually running behind load balancer – this reduces a scope where HTTP/3 may be useful. It&#x27;s required to support <a href="/docs/transports/webtransport">WebTransport</a> though.</p>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="log"><code>log</code><a href="#log" class="hash-link" aria-label="Direct link to log" title="Direct link to log">​</a></h2>
<p>Object.</p>
<p>Logging options may be set under <code>log</code> section of configuration file.</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="loglevel"><code>log.level</code><a href="#loglevel" class="hash-link" aria-label="Direct link to loglevel" title="Direct link to loglevel">​</a></h3>
<p>String. Default: <code>&quot;info&quot;</code>.</p>
<p>Log level to use. Possible values are: <code>&quot;none&quot;</code>, <code>&quot;trace&quot;</code>, <code>&quot;debug&quot;</code>, <code>&quot;info&quot;</code>, <code>&quot;warn&quot;</code>, <code>&quot;error&quot;</code>. See also some info in <a href="/docs/server/observability#logs">observability</a> chapter.</p>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockTitle_Ktv7">config.json</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token property">&quot;log&quot;</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token property">&quot;level&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;error&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="logfile"><code>log.file</code><a href="#logfile" class="hash-link" aria-label="Direct link to logfile" title="Direct link to logfile">​</a></h3>
<p>String. Default: <code>&quot;&quot;</code>.</p>
<p>Path to a file to which Centrifugo will write logs (string, by default <code>&quot;&quot;</code> – not used, logs go to STDOUT).</p>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="engine"><code>engine</code><a href="#engine" class="hash-link" aria-label="Direct link to engine" title="Direct link to engine">​</a></h2>
<p>Object.</p>
<p>Engine in Centrifugo is responsible for PUB/SUB, channel history cache, online presence features. By default, all Centrifugo PUB/SUB, channel history cache, online presence features are managed by in-memory engine. To scale Centrifugo to many nodes you may want to set alternative engine.</p>
<p>Here we only mention <code>engine.type</code> option, but there are more available engine type specific options. We have a chapter dedicated to engines - <a href="/docs/server/engines">Engines and Scalability</a>.</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="enginetype"><code>engine.type</code><a href="#enginetype" class="hash-link" aria-label="Direct link to enginetype" title="Direct link to enginetype">​</a></h3>
<p>String. Default: <code>&quot;memory&quot;</code>.</p>
<p>By default, all Centrifugo PUB/SUB, channel history cache, online presence features are managed by in-memory engine:</p>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockTitle_Ktv7">config.json</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token property">&quot;engine&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token property">&quot;type&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;memory&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>There is a possibility to use <code>redis</code> type for an alternative full-featured engine implementation based on <a href="https://redis.io/" target="_blank" rel="noopener noreferrer">Redis</a>. Centrifugo also provides an integration with <a href="https://nats.io/" target="_blank" rel="noopener noreferrer">Nats</a> server for at most once delivery cases. See more details in a dedicated chapter <a href="/docs/server/engines">Engines and Scalability</a>.</p>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="broker"><code>broker</code><a href="#broker" class="hash-link" aria-label="Direct link to broker" title="Direct link to broker">​</a></h2>
<p>Object.</p>
<p>Centrifugo v6 introduced a new way to set a separate broker responsible for PUB/SUB and history cache related operations – using <code>broker</code> section of config.</p>
<p>Once a separate broker configured it will be used for Broker part instead of Engine&#x27;s Broker part.</p>
<p>See more description of available options inside the section in <a href="/docs/server/engines#separate-broker-and-presence-manager">Engines and Scalability</a> chapter.</p>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="presence_manager"><code>presence_manager</code><a href="#presence_manager" class="hash-link" aria-label="Direct link to presence_manager" title="Direct link to presence_manager">​</a></h2>
<p>Object.</p>
<p>Centrifugo v6 introduced a new way to set a separate presence manager responsible for online presence management – using <code>presence_manager</code> section of config.</p>
<p>Once a separate presence manager configured it will be used for Presence Manager part instead of Engine&#x27;s Presence Manager part.</p>
<p>See more description of available options inside the section in <a href="/docs/server/engines#separate-broker-and-presence-manager">Engines and Scalability</a> chapter.</p>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="http_api"><code>http_api</code><a href="#http_api" class="hash-link" aria-label="Direct link to http_api" title="Direct link to http_api">​</a></h2>
<p>Object.</p>
<p>Options related to server HTTP API may be set under <code>http_api</code> section of configuration.</p>
<p>See more details in <a href="/docs/server/server_api">dedicated chapter</a>.</p>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockTitle_Ktv7">config.json</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token property">&quot;http_api&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    ...</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="grpc_api"><code>grpc_api</code><a href="#grpc_api" class="hash-link" aria-label="Direct link to grpc_api" title="Direct link to grpc_api">​</a></h2>
<p>Object.</p>
<p>Options related to server GRPC API may be set under <code>grpc_api</code> section of configuration.</p>
<p>See more details in <a href="/docs/server/server_api">dedicated chapter</a>.</p>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockTitle_Ktv7">config.json</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token property">&quot;grpc_api&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    ...</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="client"><code>client</code><a href="#client" class="hash-link" aria-label="Direct link to client" title="Direct link to client">​</a></h2>
<p>Object.</p>
<p>Client connection options may be set under <code>client</code> section of configuration:</p>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockTitle_Ktv7">config.json</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token property">&quot;client&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    ...</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="clientallowed_origins"><code>client.allowed_origins</code><a href="#clientallowed_origins" class="hash-link" aria-label="Direct link to clientallowed_origins" title="Direct link to clientallowed_origins">​</a></h3>
<p>Array of strings. Default: empty array.</p>
<p>This option allows setting an array of allowed origin patterns (array of strings) for WebSocket endpoints to prevent <a href="https://en.wikipedia.org/wiki/Cross-site_request_forgery" target="_blank" rel="noopener noreferrer">CSRF</a> or WebSocket hijacking attacks. Also, it&#x27;s used for HTTP-based unidirectional transports to enable CORS for configured origins.</p>
<p>As soon as <code>client.allowed_origins</code> is defined every connection request with <code>Origin</code> set will be checked against each pattern in an array.</p>
<p>Connection requests without <code>Origin</code> header set are passing through without any checks (i.e. always allowed). Those originate from non-browser environment, so non-related to the mentioned security concerns.</p>
<p>For example, a client connects to Centrifugo from a web browser application on <code>http://localhost:3000</code>. In this case, <code>client.allowed_origins</code> should be configured in this way:</p>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockTitle_Ktv7">config.json</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token property">&quot;client&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token property">&quot;allowed_origins&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;http://localhost:3000&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>When connecting from <code>https://example.com</code>:</p>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockTitle_Ktv7">config.json</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token property">&quot;client&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token property">&quot;allowed_origins&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;https://example.com&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Origin pattern can contain wildcard symbol <code>*</code> to match subdomains:</p>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockTitle_Ktv7">config.json</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token property">&quot;client&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token property">&quot;allowed_origins&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;https://*.example.com&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>– in this case requests with <code>Origin</code> header like <code>https://foo.example.com</code> or <code>https://bar.example.com</code> will pass the check.</p>
<p>It&#x27;s also possible to allow all origins in the following way (but this is discouraged and insecure when using connect proxy feature):</p>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockTitle_Ktv7">config.json</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token property">&quot;client&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token property">&quot;allowed_origins&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;*&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="clienttoken"><code>client.token</code><a href="#clienttoken" class="hash-link" aria-label="Direct link to clienttoken" title="Direct link to clienttoken">​</a></h3>
<p>Object.</p>
<p>The section <code>client.token</code> contains options for client connection and subscription JWT auth. See more details in <a href="/docs/server/authentication">JWT authentication</a> and <a href="/docs/server/channel_token_auth">Channel JWT authorization</a>.</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="clientsubscription_token"><code>client.subscription_token</code><a href="#clientsubscription_token" class="hash-link" aria-label="Direct link to clientsubscription_token" title="Direct link to clientsubscription_token">​</a></h3>
<p>Object.</p>
<p>It&#x27;s possible to use separate token options for channel subscription – see details <a href="/docs/server/channel_token_auth#separate-subscription-token-config">here</a>.</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="clientproxyconnect"><code>client.proxy.connect</code><a href="#clientproxyconnect" class="hash-link" aria-label="Direct link to clientproxyconnect" title="Direct link to clientproxyconnect">​</a></h3>
<p>Object.</p>
<p>The configuration object for proxy to use for connect events. See how to configure <a href="/docs/server/proxy">event proxies</a>.</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="clientproxyrefresh"><code>client.proxy.refresh</code><a href="#clientproxyrefresh" class="hash-link" aria-label="Direct link to clientproxyrefresh" title="Direct link to clientproxyrefresh">​</a></h3>
<p>Object.</p>
<p>The configuration object for proxy to use for refresh events. See how to configure <a href="/docs/server/proxy">event proxies</a>.</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="clientping_interval"><code>client.ping_interval</code><a href="#clientping_interval" class="hash-link" aria-label="Direct link to clientping_interval" title="Direct link to clientping_interval">​</a></h3>
<p><a href="#setting-time-duration-options">Duration</a>. Default <code>&quot;25s&quot;</code>.</p>
<p>Interval to send pings to clients – see <a href="/docs/transports/overview#pingpong-behavior">more about ping/pong</a></p>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="clientpong_timeout"><code>client.pong_timeout</code><a href="#clientpong_timeout" class="hash-link" aria-label="Direct link to clientpong_timeout" title="Direct link to clientpong_timeout">​</a></h3>
<p><a href="#setting-time-duration-options">Duration</a>. Default <code>&quot;8s&quot;</code>.</p>
<p>Timeout to wait pong from clients after sending ping to them – see <a href="/docs/transports/overview#pingpong-behavior">more about ping/pong</a></p>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="clientqueue_max_size"><code>client.queue_max_size</code><a href="#clientqueue_max_size" class="hash-link" aria-label="Direct link to clientqueue_max_size" title="Direct link to clientqueue_max_size">​</a></h3>
<p>Integer. Default: <code>1048576</code>.</p>
<p>Each client connection has individual message queue, this is the size of that queue in bytes. Default: 1048576 bytes (1MB).</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="clienthistory_max_publication_limit"><code>client.history_max_publication_limit</code><a href="#clienthistory_max_publication_limit" class="hash-link" aria-label="Direct link to clienthistory_max_publication_limit" title="Direct link to clienthistory_max_publication_limit">​</a></h3>
<p>Integer. Default: <code>300</code></p>
<p>Limit for the max number of publications to be returned via client protocol. See more in <a href="/docs/server/history_and_recovery">History and recovery</a></p>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="clientrecovery_max_publication_limit"><code>client.recovery_max_publication_limit</code><a href="#clientrecovery_max_publication_limit" class="hash-link" aria-label="Direct link to clientrecovery_max_publication_limit" title="Direct link to clientrecovery_max_publication_limit">​</a></h3>
<p>Integer. Default: <code>300</code></p>
<p>Limit for the max number of publications to be recovered via client protocol. See more in <a href="/docs/server/history_and_recovery">History and recovery</a></p>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="clientchannel_limit"><code>client.channel_limit</code><a href="#clientchannel_limit" class="hash-link" aria-label="Direct link to clientchannel_limit" title="Direct link to clientchannel_limit">​</a></h3>
<p>Integer. Default: <code>128</code></p>
<p>Sets the maximum number of different channel subscriptions a single client can have.</p>
<div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</div><div class="admonitionContent_BuS1"><p>When designing an application avoid subscribing to an unlimited number of channels per one client. Keep number of subscriptions for each client reasonably small – this will help keeping handshake process lightweight and fast.</p></div></div>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="clientuser_connection_limit"><code>client.user_connection_limit</code><a href="#clientuser_connection_limit" class="hash-link" aria-label="Direct link to clientuser_connection_limit" title="Direct link to clientuser_connection_limit">​</a></h3>
<p>Integer. Default: <code>0</code></p>
<p>The maximum number of connections from a user (with known user ID) to Centrifugo node. By default, unlimited.</p>
<p>The important thing to emphasize is that <code>client_user_connection_limit</code> works only per one Centrifugo node and exists mostly to protect Centrifugo from many connections from a single user – but not for business logic limitations. This means that if you set this to 1 and scale nodes – say run 10 Centrifugo nodes – then a user will be able to create 10 connections (one to each node).</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="clientconnection_limit"><code>client.connection_limit</code><a href="#clientconnection_limit" class="hash-link" aria-label="Direct link to clientconnection_limit" title="Direct link to clientconnection_limit">​</a></h3>
<p>Integer. Default: <code>0</code></p>
<p>When set to a value &gt; 0 <code>client.connection_limit</code> limits the max number of connections single Centrifugo node can handle. It acts on HTTP middleware level and stops processing request if the condition met. It logs a warning into logs in this case and increments <code>centrifugo_node_client_connection_limit</code> Prometheus counter. Client SDKs will attempt reconnecting.</p>
<p>Some motivation behind this option may be found in <a href="https://github.com/centrifugal/centrifugo/issues/544" target="_blank" rel="noopener noreferrer">this issue</a>.</p>
<p>Note, that at this point <code>client.connection_limit</code> does not affect connections coming over GRPC unidirectional transport.</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="clientconnection_rate_limit"><code>client.connection_rate_limit</code><a href="#clientconnection_rate_limit" class="hash-link" aria-label="Direct link to clientconnection_rate_limit" title="Direct link to clientconnection_rate_limit">​</a></h3>
<p>Integer. Default: <code>0</code></p>
<p><code>client.connection_rate_limit</code> sets the maximum number of HTTP requests to establish a new real-time connection a single Centrifugo node will accept per second (on real-time transport endpoints). All requests outside the limit will get 503 Service Unavailable code in response. Our SDKs handle this with backoff reconnection.</p>
<p>By default, no limit is used.</p>
<p>Note, that at this point <code>client.connection_rate_limit</code> does not affect connections coming over GRPC unidirectional transport.</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="clientqueue_max_size-1"><code>client.queue_max_size</code><a href="#clientqueue_max_size-1" class="hash-link" aria-label="Direct link to clientqueue_max_size-1" title="Direct link to clientqueue_max_size-1">​</a></h3>
<p>Integer. Default: <code>1048576</code></p>
<p>Maximum client message queue size in bytes to close slow reader connections. By default - 1mb.</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="clientconcurrency"><code>client.concurrency</code><a href="#clientconcurrency" class="hash-link" aria-label="Direct link to clientconcurrency" title="Direct link to clientconcurrency">​</a></h3>
<p>Integer. Default: <code>0</code></p>
<p><code>client.concurrency</code> when set tells Centrifugo that commands from a client must be processed concurrently.</p>
<p>By default, concurrency disabled – Centrifugo processes commands received from a client one by one. This means that if a client issues two RPC requests to a server then Centrifugo will process the first one, then the second one. If the first RPC call is slow then the client will wait for the second RPC response much longer than it could (even if the second RPC is very fast). If you set <code>client.concurrency</code> to some value greater than 1 then commands will be processed concurrently (in parallel) in separate goroutines (with maximum concurrency level capped by <code>client.concurrency</code> value). Thus, this option can effectively reduce the latency of individual requests. Since separate goroutines are involved in processing this mode adds some performance and memory overhead – though it should be pretty negligible in most cases. This option applies to all commands from a client (including subscribe, publish, presence, etc).</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="clientstale_close_delay"><code>client.stale_close_delay</code><a href="#clientstale_close_delay" class="hash-link" aria-label="Direct link to clientstale_close_delay" title="Direct link to clientstale_close_delay">​</a></h3>
<p><a href="#setting-time-duration-options">Duration</a>. Default: <code>&quot;10s&quot;</code></p>
<p>This option allows tuning the maximum time Centrifugo will wait for the connect frame (which contains authentication information) from the client after establishing connection. Default value should be reasonable for most use cases.</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="clientuser_id_http_header"><code>client.user_id_http_header</code><a href="#clientuser_id_http_header" class="hash-link" aria-label="Direct link to clientuser_id_http_header" title="Direct link to clientuser_id_http_header">​</a></h3>
<p>String. Default: <code>&quot;&quot;</code></p>
<p>Usually to authenticate client connections with Centrifugo you need to use <a href="/docs/server/authentication">JWT authentication</a> or <a href="/docs/server/proxy#connect-proxy">connect proxy</a>. Sometimes though it may be convenient to pass user ID information in incoming HTTP request headers. This is usually the case when application backend infrastructure has some authentication proxy (like Envoy, etc). This proxy may set authenticated user ID to some header and proxy requests further to Centrifugo.</p>
<p>When <code>client.user_id_http_header</code> is set to some non-empty header name Centrifugo will try to extract the authenticated user ID for client connections from that header. This mechanism works for all real-time transports based on HTTP (this also includes WebSocket since it starts with HTTP Upgrade request). Example:</p>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockTitle_Ktv7">config.json</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token property">&quot;client&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token property">&quot;user_id_http_header&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;X-User-Id&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>When using this way for user authentication – you can not set connection expiration and additional connection info which is possible to do using other authentication ways mentioned above.</p>
<div class="theme-admonition theme-admonition-caution admonition_xJq3 alert alert--warning"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>Security warning</div><div class="admonitionContent_BuS1"><p>When using authentication over proxy ensure your proxy strips the header you are using for auth if it comes from the client or forbids such requests to avoid malicious usage. Only your authentication proxy must set the header with user ID.</p></div></div>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="clientconnect_include_server_time"><code>client.connect_include_server_time</code><a href="#clientconnect_include_server_time" class="hash-link" aria-label="Direct link to clientconnect_include_server_time" title="Direct link to clientconnect_include_server_time">​</a></h3>
<p>Boolean. Default: <code>false</code>.</p>
<p>When enabled, Centrifugo attaches <code>time</code> field to the connect reply (or connect push in the unidirectional transport case). This field contains current server time as Unix milliseconds. Ex. <code>1716198604052</code>.</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="clientallow_anonymous_connect_without_token"><code>client.allow_anonymous_connect_without_token</code><a href="#clientallow_anonymous_connect_without_token" class="hash-link" aria-label="Direct link to clientallow_anonymous_connect_without_token" title="Direct link to clientallow_anonymous_connect_without_token">​</a></h3>
<p>Boolean, default: <code>false</code>.</p>
<p>Enable a mode when all clients can connect to Centrifugo without JWT. In this case, all connections without a token will be treated as anonymous (i.e. with empty user ID). Access to channel operations should be explicitly enabled for anonymous connections.</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="clientdisallow_anonymous_connection_tokens"><code>client.disallow_anonymous_connection_tokens</code><a href="#clientdisallow_anonymous_connection_tokens" class="hash-link" aria-label="Direct link to clientdisallow_anonymous_connection_tokens" title="Direct link to clientdisallow_anonymous_connection_tokens">​</a></h3>
<p>Boolean. Default: <code>false</code>.</p>
<p>When the option is set Centrifugo won&#x27;t accept connections from anonymous users even if they provided a valid JWT. I.e. if token is valid, but <code>sub</code> claim is empty – then Centrifugo closes connection with advice to not reconnect again.</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="clientsubscribe_to_user_personal_channel"><code>client.subscribe_to_user_personal_channel</code><a href="#clientsubscribe_to_user_personal_channel" class="hash-link" aria-label="Direct link to clientsubscribe_to_user_personal_channel" title="Direct link to clientsubscribe_to_user_personal_channel">​</a></h3>
<p>Object.</p>
<p>An object to configure user personal channel subscription and optionally enable single connection from user. See <a href="/docs/server/server_subs#automatic-personal-channel-subscription">dedicated description</a>.</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="clientinsecure"><code>client.insecure</code><a href="#clientinsecure" class="hash-link" aria-label="Direct link to clientinsecure" title="Direct link to clientinsecure">​</a></h3>
<div class="theme-admonition theme-admonition-danger admonition_xJq3 alert alert--danger"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M5.05.31c.81 2.17.41 3.38-.52 4.31C3.55 5.67 1.98 6.45.9 7.98c-1.45 2.05-1.7 6.53 3.53 7.7-2.2-1.16-2.67-4.52-.3-6.61-.61 2.03.53 3.33 1.94 2.86 1.39-.47 2.3.53 2.27 1.67-.02.78-.31 1.44-1.13 1.81 3.42-.59 4.78-3.42 4.78-5.56 0-2.84-2.53-3.22-1.25-5.61-1.52.13-2.03 1.13-1.89 2.75.09 1.08-1.02 1.8-1.86 1.33-.67-.41-.66-1.19-.06-1.78C8.18 5.31 8.68 2.45 5.05.32L5.03.3l.02.01z"></path></svg></span>INSECURE OPTION.</div><div class="admonitionContent_BuS1"><p>This option is insecure and mostly intended for development. In case of using in production – please make sure you understand the possible security risks.</p></div></div>
<p>The boolean option <code>client.insecure</code> (default <code>false</code>) allows connecting to Centrifugo without JWT token. In this mode, there is no user authentication involved. It also disables permission checks on client API level - for presence and history calls. This mode can be useful for demo projects based on Centrifugo, integration tests, local projects, or real-time application prototyping. Don&#x27;t use it in production until you 100% know what you are doing.</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="clientinsecure_skip_token_signature_verify"><code>client.insecure_skip_token_signature_verify</code><a href="#clientinsecure_skip_token_signature_verify" class="hash-link" aria-label="Direct link to clientinsecure_skip_token_signature_verify" title="Direct link to clientinsecure_skip_token_signature_verify">​</a></h3>
<div class="theme-admonition theme-admonition-danger admonition_xJq3 alert alert--danger"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M5.05.31c.81 2.17.41 3.38-.52 4.31C3.55 5.67 1.98 6.45.9 7.98c-1.45 2.05-1.7 6.53 3.53 7.7-2.2-1.16-2.67-4.52-.3-6.61-.61 2.03.53 3.33 1.94 2.86 1.39-.47 2.3.53 2.27 1.67-.02.78-.31 1.44-1.13 1.81 3.42-.59 4.78-3.42 4.78-5.56 0-2.84-2.53-3.22-1.25-5.61-1.52.13-2.03 1.13-1.89 2.75.09 1.08-1.02 1.8-1.86 1.33-.67-.41-.66-1.19-.06-1.78C8.18 5.31 8.68 2.45 5.05.32L5.03.3l.02.01z"></path></svg></span>INSECURE OPTION.</div><div class="admonitionContent_BuS1"><p>This option is insecure and mostly intended for development. In case of using in production – please make sure you understand the possible security risks.</p></div></div>
<p>Boolean. Default: <code>false</code>.</p>
<p>The boolean option <code>client.insecure_skip_token_signature_verify</code> (default <code>false</code>), if enabled – tells Centrifugo to skip JWT signature verification - for both connection and subscription tokens. This is absolutely <strong>insecure</strong> and must only be used for development and testing purposes. Token claims are parsed as usual - so token should still follow JWT format.</p>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="channel"><code>channel</code><a href="#channel" class="hash-link" aria-label="Direct link to channel" title="Direct link to channel">​</a></h2>
<p>Object.</p>
<p>Let&#x27;s describe some options for the <code>channel</code> section – these options relate to channel behavior. Learn more about channels in <a href="/docs/server/channels">Channels and namespaces</a> chapter.</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="channelwithout_namespace"><code>channel.without_namespace</code><a href="#channelwithout_namespace" class="hash-link" aria-label="Direct link to channelwithout_namespace" title="Direct link to channelwithout_namespace">​</a></h3>
<p>Object.</p>
<p>This is an object with <a href="/docs/server/channels#channel-options">channel options</a> which are applied to all channels which do not belong to any namespace.</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="channelnamespaces"><code>channel.namespaces</code><a href="#channelnamespaces" class="hash-link" aria-label="Direct link to channelnamespaces" title="Direct link to channelnamespaces">​</a></h3>
<p>Array of objects.</p>
<p>This is an array of objects with to configure <a href="/docs/server/channels#channel-namespaces">channel namespaces</a>. Each object in the array represents a namespace. Namespaces allow you to apply specific options to a group of channels starting with a namespace name.</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="channelhistory_meta_ttl"><code>channel.history_meta_ttl</code><a href="#channelhistory_meta_ttl" class="hash-link" aria-label="Direct link to channelhistory_meta_ttl" title="Direct link to channelhistory_meta_ttl">​</a></h3>
<p><a href="#setting-time-duration-options">Duration</a>. Default <code>&quot;720h&quot;</code>.</p>
<p>This option is a time to keep history meta information for channels when publication history is used. This value must be bigger than max <code>history_ttl</code> in all channel namespaces.</p>
<p>The motivation to have history meta information TTL is as follows. When using a history in a channel, Centrifugo keeps some metadata for each channel stream. Metadata includes the latest stream offset and its epoch value. In some cases, when channels are created for а short time and then not used anymore, created metadata can stay in memory while not useful. For example, you can have a personal user channel but after using your app for a while user left it forever. From a long-term perspective, this can be an unwanted memory growth. Setting a reasonable value to this option can help to expire metadata faster (or slower if you need it).</p>
<p>It&#x27;s possible to redefine <code>history_meta_ttl</code> on channel namespace level.</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="channelproxysubscribe"><code>channel.proxy.subscribe</code><a href="#channelproxysubscribe" class="hash-link" aria-label="Direct link to channelproxysubscribe" title="Direct link to channelproxysubscribe">​</a></h3>
<p>Object.</p>
<p>The configuration object for proxy to use for channel subscribe events. See how to configure <a href="/docs/server/proxy">event proxies</a>.</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="channelproxypublish"><code>channel.proxy.publish</code><a href="#channelproxypublish" class="hash-link" aria-label="Direct link to channelproxypublish" title="Direct link to channelproxypublish">​</a></h3>
<p>Object.</p>
<p>The configuration object for proxy to use for channel publish events. See how to configure <a href="/docs/server/proxy">event proxies</a>.</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="channelproxysub_refresh"><code>channel.proxy.sub_refresh</code><a href="#channelproxysub_refresh" class="hash-link" aria-label="Direct link to channelproxysub_refresh" title="Direct link to channelproxysub_refresh">​</a></h3>
<p>Object.</p>
<p>The configuration object for proxy to use for channel sub refresh events. See how to configure <a href="/docs/server/proxy">event proxies</a>.</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="channelproxysubscribe_stream"><code>channel.proxy.subscribe_stream</code><a href="#channelproxysubscribe_stream" class="hash-link" aria-label="Direct link to channelproxysubscribe_stream" title="Direct link to channelproxysubscribe_stream">​</a></h3>
<p>Object.</p>
<p>The configuration object for proxy to use for channel subscribe stream. See how to configure in <a href="/docs/server/proxy_streams">Proxy subscription streams</a>.</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="channelproxystate"><code>channel.proxy.state</code><a href="#channelproxystate" class="hash-link" aria-label="Direct link to channelproxystate" title="Direct link to channelproxystate">​</a></h3>
<p>Object.</p>
<p>The configuration object for proxy to use for channel state events. Centrifugo PRO only – see <a href="/docs/pro/channel_state_events">docs</a>.</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="chanelproxycache_empty"><code>chanel.proxy.cache_empty</code><a href="#chanelproxycache_empty" class="hash-link" aria-label="Direct link to chanelproxycache_empty" title="Direct link to chanelproxycache_empty">​</a></h3>
<p>Object.</p>
<p>The configuration object for proxy to use for cache empty events. Centrifugo PRO only – see <a href="/docs/pro/channel_cache_empty">docs</a>.</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="channelmax_length"><code>channel.max_length</code><a href="#channelmax_length" class="hash-link" aria-label="Direct link to channelmax_length" title="Direct link to channelmax_length">​</a></h3>
<p>Integer. Default: <code>255</code></p>
<p>Sets the maximum length of the channel name.</p>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="rpc"><code>rpc</code><a href="#rpc" class="hash-link" aria-label="Direct link to rpc" title="Direct link to rpc">​</a></h2>
<p>Object.</p>
<p>The section <code>rpc</code> of configuration file allows configuring options for client initiated RPC calls.</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="rpcwithout_namespace"><code>rpc.without_namespace</code><a href="#rpcwithout_namespace" class="hash-link" aria-label="Direct link to rpcwithout_namespace" title="Direct link to rpcwithout_namespace">​</a></h3>
<p>Object.</p>
<p>Analogous to <code>channel.without_namespace</code> but for client RPC calls.</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="rpcnamespaces"><code>rpc.namespaces</code><a href="#rpcnamespaces" class="hash-link" aria-label="Direct link to rpcnamespaces" title="Direct link to rpcnamespaces">​</a></h3>
<p>Array of objects.</p>
<p>Analogous to <code>channel.namespaces</code> but for client RPC calls.</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="rpcnamespace_boundary"><code>rpc.namespace_boundary</code><a href="#rpcnamespace_boundary" class="hash-link" aria-label="Direct link to rpcnamespace_boundary" title="Direct link to rpcnamespace_boundary">​</a></h3>
<p>String. Default <code>&quot;:&quot;</code>.</p>
<p>Analogue to <code>channel.namespace_boundary</code> but for client RPC calls.</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="rpcping"><code>rpc.ping</code><a href="#rpcping" class="hash-link" aria-label="Direct link to rpcping" title="Direct link to rpcping">​</a></h3>
<p>Object.</p>
<p>Sometimes you may need a way to just ping Centrifugo server from the client-side. For example, some Centrifugo users wanted this to show RTT time to server in UI. It&#x27;s possible to enable RPC extension which simply returns an empty reply to RPC <code>ping</code>:</p>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockTitle_Ktv7">config.json</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token property">&quot;rpc&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token property">&quot;ping&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token property">&quot;enabled&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token boolean" style="color:rgb(255, 88, 116)">true</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>After that, on SDK side you can do sth like this:</p>
<div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">const</span><span class="token plain"> startTime </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token dom variable" style="color:rgb(191, 199, 213)">performance</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">now</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">centrifuge</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">rpc</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;ping&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">then</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token keyword" style="font-style:italic">function</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token keyword" style="font-style:italic">const</span><span class="token plain"> endTime </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token dom variable" style="color:rgb(191, 199, 213)">performance</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">now</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token console class-name" style="color:rgb(255, 203, 107)">console</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">log</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;rtt&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">endTime </span><span class="token operator" style="color:rgb(137, 221, 255)">-</span><span class="token plain"> startTime</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">toFixed</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token number" style="color:rgb(247, 140, 108)">2</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">toString</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;ms&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain">  </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// Output: rtt 0.90 ms</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>If you are not happy with method name <code>ping</code> – you can use a different one by setting <code>rpc.ping_method</code> option to a string you want:</p>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockTitle_Ktv7">config.json</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token property">&quot;rpc&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token property">&quot;ping&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token property">&quot;enabled&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token boolean" style="color:rgb(255, 88, 116)">true</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token property">&quot;method&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;rtt&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="websocket"><code>websocket</code><a href="#websocket" class="hash-link" aria-label="Direct link to websocket" title="Direct link to websocket">​</a></h2>
<p>Object.</p>
<p>WebSocket transport related options can be defined under <code>websocket</code> section of config.</p>
<p>See <a href="/docs/transports/websocket">WebSocket</a> chapter for all the configuration options.</p>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="sse"><code>sse</code><a href="#sse" class="hash-link" aria-label="Direct link to sse" title="Direct link to sse">​</a></h2>
<p>Object.</p>
<p>SSE transport related options can be defined under <code>sse</code> section of config.</p>
<p>See <a href="/docs/transports/sse">SSE (EventSource), with bidirectional emulation</a> chapter for all the configuration options.</p>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="http_stream"><code>http_stream</code><a href="#http_stream" class="hash-link" aria-label="Direct link to http_stream" title="Direct link to http_stream">​</a></h2>
<p>Object.</p>
<p>HTTP-streaming transport related options can be defined under <code>http_stream</code> section of config.</p>
<p>See <a href="/docs/transports/http_stream">HTTP streaming, with bidirectional emulation</a> chapter for all the configuration options.</p>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="webtransport"><code>webtransport</code><a href="#webtransport" class="hash-link" aria-label="Direct link to webtransport" title="Direct link to webtransport">​</a></h2>
<p>Object.</p>
<p>WebTransport transport related options can be defined under <code>webtransport</code> section of config.</p>
<p>See <a href="/docs/transports/webtransport">WebTransport</a> chapter for all the configuration options.</p>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="uni_websocket"><code>uni_websocket</code><a href="#uni_websocket" class="hash-link" aria-label="Direct link to uni_websocket" title="Direct link to uni_websocket">​</a></h2>
<p>Object.</p>
<p>Unidirectional WebSocket transport related options can be defined under <code>uni_websocket</code> section of config.</p>
<p>See <a href="/docs/transports/uni_websocket">unidirectional WebSocket</a> chapter for all the configuration options.</p>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="uni_sse"><code>uni_sse</code><a href="#uni_sse" class="hash-link" aria-label="Direct link to uni_sse" title="Direct link to uni_sse">​</a></h2>
<p>Object.</p>
<p>Unidirectional SSE transport related options can be defined under <code>uni_sse</code> section of config.</p>
<p>See <a href="/docs/transports/uni_sse">Unidirectional SSE</a> chapter for all the configuration options.</p>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="uni_http_stream"><code>uni_http_stream</code><a href="#uni_http_stream" class="hash-link" aria-label="Direct link to uni_http_stream" title="Direct link to uni_http_stream">​</a></h2>
<p>Object.</p>
<p>Unidirectional HTTP-streaming transport related options can be defined under <code>uni_http_stream</code> section of config.</p>
<p>See <a href="/docs/transports/uni_http_stream">Unidirectional HTTP-streaming</a> chapter for all the configuration options.</p>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="uni_grpc"><code>uni_grpc</code><a href="#uni_grpc" class="hash-link" aria-label="Direct link to uni_grpc" title="Direct link to uni_grpc">​</a></h2>
<p>Object.</p>
<p>Unidirectional GRPC transport related options can be defined under <code>uni_grpc</code> section of config.</p>
<p>See <a href="/docs/transports/uni_grpc">Unidirectional GRPC</a> chapter for all the configuration options.</p>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="emulation"><code>emulation</code><a href="#emulation" class="hash-link" aria-label="Direct link to emulation" title="Direct link to emulation">​</a></h2>
<p>Object.</p>
<p>Emulation endpoint enables automatically as soon as <code>http_stream.enabled</code> or <code>sse.enabled</code> set to <code>true</code>. It&#x27;s required for
bidirectional emulation over HTTP-streaming and SSE to handle client to server part of communication.</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="emulationmax_request_body_size"><code>emulation.max_request_body_size</code><a href="#emulationmax_request_body_size" class="hash-link" aria-label="Direct link to emulationmax_request_body_size" title="Direct link to emulationmax_request_body_size">​</a></h3>
<p>Integer. Default: <code>65536</code>.</p>
<p>Maximum size of POST request body in bytes for bidirectional emulation endpoint.</p>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="admin"><code>admin</code><a href="#admin" class="hash-link" aria-label="Direct link to admin" title="Direct link to admin">​</a></h2>
<p>Object.</p>
<p>Admin web UI endpoint works on root path by default, i.e. <code>http://localhost:8000</code>.</p>
<p>For more details about admin web UI, refer to the <a href="/docs/server/admin_web">Admin web UI documentation</a>.</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="adminenabled"><code>admin.enabled</code><a href="#adminenabled" class="hash-link" aria-label="Direct link to adminenabled" title="Direct link to adminenabled">​</a></h3>
<p>Boolean. Default: <code>false</code>.</p>
<p>When set to <code>true</code> Centrifugo will serve an admin web interface. This interface is useful for monitoring and managing Centrifugo server. It&#x27;s a single-page application built with ReactJS, it&#x27;s embedded to Centrifugo binary – so you don&#x27;t need to serve any additional files.</p>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="debug"><code>debug</code><a href="#debug" class="hash-link" aria-label="Direct link to debug" title="Direct link to debug">​</a></h2>
<p>Object.</p>
<p>Next, when Centrifugo started in debug mode some extra debug endpoints become available. To start in debug mode add <code>debug</code> option to config:</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="debugenabled"><code>debug.enabled</code><a href="#debugenabled" class="hash-link" aria-label="Direct link to debugenabled" title="Direct link to debugenabled">​</a></h3>
<p>Boolean. Default: <code>false</code>.</p>
<p>When set to <code>true</code> Centrifugo will serve debug endpoints. For example, with the following config:</p>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockTitle_Ktv7">config.json</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  ...</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token property">&quot;debug&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token property">&quot;enabled&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token boolean" style="color:rgb(255, 88, 116)">true</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>– the endpoint:</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">http://localhost:8000/debug/pprof/</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>– will show useful information about the internal state of Centrifugo instance. This info is especially helpful when troubleshooting. See <a href="https://github.com/centrifugal/centrifugo/wiki/Investigating-performance-issues" target="_blank" rel="noopener noreferrer">wiki page</a> for more info.</p>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="health"><code>health</code><a href="#health" class="hash-link" aria-label="Direct link to health" title="Direct link to health">​</a></h2>
<p>Object.</p>
<p>Health endpoint configuration – useful for K8S liveness and readiness probes.</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="healthenabled"><code>health.enabled</code><a href="#healthenabled" class="hash-link" aria-label="Direct link to healthenabled" title="Direct link to healthenabled">​</a></h3>
<p>Boolean. Default: <code>false</code>.</p>
<p>Use <code>health.enabled</code> boolean option (by default <code>false</code>) to enable the health check endpoint which will be available on path <code>/health</code>.</p>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockTitle_Ktv7">config.json</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  ...</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token property">&quot;health&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token property">&quot;enabled&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token boolean" style="color:rgb(255, 88, 116)">true</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="prometheus"><code>prometheus</code><a href="#prometheus" class="hash-link" aria-label="Direct link to prometheus" title="Direct link to prometheus">​</a></h2>
<p>Object.</p>
<p>Prometheus endpoint configuration – useful for monitoring Centrifugo with Prometheus.</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="prometheusenabled"><code>prometheus.enabled</code><a href="#prometheusenabled" class="hash-link" aria-label="Direct link to prometheusenabled" title="Direct link to prometheusenabled">​</a></h3>
<p>Boolean. Default: <code>false</code>.</p>
<p>The option <code>prometheus.enabled</code> (by default <code>false</code>) allows enabling the Prometheus endpoint. Metrics are then available on path <code>/metrics</code>.</p>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockTitle_Ktv7">config.json</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  ...</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token property">&quot;prometheus&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token property">&quot;enabled&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token boolean" style="color:rgb(255, 88, 116)">true</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="prometheusinstrument_http_handlers"><code>prometheus.instrument_http_handlers</code><a href="#prometheusinstrument_http_handlers" class="hash-link" aria-label="Direct link to prometheusinstrument_http_handlers" title="Direct link to prometheusinstrument_http_handlers">​</a></h3>
<p>Boolean. Default <code>false</code>.</p>
<p>When set to <code>true</code> Centrifugo will instrument HTTP handlers with additional Prometheus metrics – at this point only the number of requests to specific handler with status code resolution. This can be useful to get more detailed information about the number of HTTP requests to Centrifugo. Comes with a small overhead, thus disabled by default.</p>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="swagger"><code>swagger</code><a href="#swagger" class="hash-link" aria-label="Direct link to swagger" title="Direct link to swagger">​</a></h2>
<p>Object.</p>
<p>Swagger UI config.</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="swaggerenabled"><code>swagger.enabled</code><a href="#swaggerenabled" class="hash-link" aria-label="Direct link to swaggerenabled" title="Direct link to swaggerenabled">​</a></h3>
<p>Boolean. Default: <code>false</code>.</p>
<p>Use <code>swagger.enabled</code> boolean option (by default <code>false</code>) to enable Swagger UI for <a href="/docs/server/server_api">server HTTP API</a>. UI will be available on path <code>/swagger</code>. Also available over command-line flag:</p>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockTitle_Ktv7">config.json</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  ...</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token property">&quot;swagger&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token property">&quot;enabled&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token boolean" style="color:rgb(255, 88, 116)">true</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="proxies"><code>proxies</code><a href="#proxies" class="hash-link" aria-label="Direct link to proxies" title="Direct link to proxies">​</a></h2>
<p>Array of objects.</p>
<p>Sometimes you need more flexibility when configuring channel proxies. Centrifugo provides a way to define custom proxy on channel namespace and rpc namespace levels. In that case you can reference a proxy defined in <code>proxies</code> array by name from a namespace.</p>
<p>See the <a href="/docs/server/proxy">dedicated chapter</a> for more details.</p>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="consumers"><code>consumers</code><a href="#consumers" class="hash-link" aria-label="Direct link to consumers" title="Direct link to consumers">​</a></h2>
<p>Array of objects.</p>
<p>Centrifugo supports asynchronous reading of API commands from external queue systems, inclusing Kafka and PostgreSQL outbox table. It&#x27;s possible to configure using <code>consumers</code> array option. See the <a href="/docs/server/consumers">dedicated chapter about consumers</a> for more details and configuration details.</p>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="opentelemetry"><code>opentelemetry</code><a href="#opentelemetry" class="hash-link" aria-label="Direct link to opentelemetry" title="Direct link to opentelemetry">​</a></h2>
<p>Object.</p>
<p>See description in <a href="/docs/server/observability#opentelemetry">dedicated chapter</a>.</p>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="graphite"><code>graphite</code><a href="#graphite" class="hash-link" aria-label="Direct link to graphite" title="Direct link to graphite">​</a></h2>
<p>Object.</p>
<p>See description in <a href="/docs/server/observability#graphite-metrics">dedicated chapter</a>.</p>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="shutdown"><code>shutdown</code><a href="#shutdown" class="hash-link" aria-label="Direct link to shutdown" title="Direct link to shutdown">​</a></h2>
<p>Object.</p>
<p>Section to configure server shutdown behavior.</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="shutdowntimeout"><code>shutdown.timeout</code><a href="#shutdowntimeout" class="hash-link" aria-label="Direct link to shutdowntimeout" title="Direct link to shutdowntimeout">​</a></h3>
<p><a href="#setting-time-duration-options">Duration</a>. Default <code>&quot;30s&quot;</code>.</p>
<p>Allows configuring max shutdown duration.</p>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="pid_file"><code>pid_file</code><a href="#pid_file" class="hash-link" aria-label="Direct link to pid_file" title="Direct link to pid_file">​</a></h2>
<p>String. Default: <code>&quot;&quot;</code>.</p>
<p>Path to a file where Centrifugo will write its PID (string, by default <code>&quot;&quot;</code> – not used).</p>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="custom-internal-port">Custom internal port<a href="#custom-internal-port" class="hash-link" aria-label="Direct link to Custom internal port" title="Direct link to Custom internal port">​</a></h2>
<p>We strongly recommend not expose API, admin, debug, health, and Prometheus endpoints to the Internet. The following Centrifugo endpoints are considered internal:</p>
<ul>
<li>HTTP API endpoint (<code>/api</code>) - for HTTP API requests</li>
<li>Admin web interface endpoints (<code>/</code>, <code>/admin/auth</code>, <code>/admin/api</code>) - used by web interface</li>
<li>Prometheus endpoint (<code>/metrics</code>) - used for exposing server metrics in Prometheus format</li>
<li>Health check endpoint (<code>/health</code>) - used to do health checks</li>
<li>Debug endpoints (<code>/debug/pprof</code>) - used to inspect internal server state</li>
<li>Swagger UI endpoint (<code>/swagger</code>) - used for showing embedded Swagger UI for server HTTP API</li>
</ul>
<p>It&#x27;s a good practice to protect all these endpoints with a firewall. For example, it&#x27;s possible to configure in <code>location</code> section of the Nginx configuration.</p>
<p>Though sometimes you don&#x27;t have access to a per-location configuration in your proxy/load balancer software. For example when using Amazon ELB. In this case, you can change ports on which your internal endpoints work.</p>
<p>To run internal endpoints on custom port use <code>internal_port</code> option:</p>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockTitle_Ktv7">config.json</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    ...</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token property">&quot;internal_port&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">9000</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>So admin web interface will work on address:</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">http://localhost:9000</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Also, debug page will be available on a new custom port too:</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">http://localhost:9000/debug/pprof/</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>The same for API and Prometheus endpoints.</p>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="endpoint-management">Endpoint management<a href="#endpoint-management" class="hash-link" aria-label="Direct link to Endpoint management" title="Direct link to Endpoint management">​</a></h2>
<p>This part is about Centrifugo endpoints and possibility to tweak them.</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="default-endpoints">Default endpoints<a href="#default-endpoints" class="hash-link" aria-label="Direct link to Default endpoints" title="Direct link to Default endpoints">​</a></h3>
<p><a href="/docs/transports/websocket">Bidirectional WebSocket</a> default endpoint:</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">ws://localhost:8000/connection/websocket</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><a href="/docs/transports/http_stream">Bidirectional emulation with HTTP-streaming</a> (disabled by default):</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">ws://localhost:8000/connection/http_stream</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><a href="/docs/transports/sse">Bidirectional emulation with SSE</a> (EventSource) (disabled by default):</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">ws://localhost:8000/connection/sse</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><a href="/docs/transports/uni_sse">Unidirectional EventSource</a> endpoint (disabled by default):</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">http://localhost:8000/connection/uni_sse</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><a href="/docs/transports/uni_http_stream">Unidirectional HTTP streaming</a> endpoint (disabled by default):</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">http://localhost:8000/connection/uni_http_stream</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><a href="/docs/transports/uni_websocket">Unidirectional WebSocket</a> endpoint (disabled by default):</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">http://localhost:8000/connection/uni_websocket</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><a href="/docs/server/server_api">Server HTTP API</a> endpoint:</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">http://localhost:8000/api</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>By default, all endpoints work on port <code>8000</code>. This can be changed with <a href="#http_serverport">port</a> option:</p>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockTitle_Ktv7">config.json</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  ...</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token property">&quot;port&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">9000</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>In production setup, you may have a proper domain name in endpoint addresses above instead of <code>localhost</code>. While domain name and port parts can differ depending on setup – URL paths stay the same: <code>/connection/websocket</code>, <code>/api</code> etc.</p>
<p>It&#x27;s possible to redefine endpoint HTTP path prefixes using <a href="#customize-handler-prefixes">custom handler prefixes</a>.</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="customize-handler-prefixes">Customize handler prefixes<a href="#customize-handler-prefixes" class="hash-link" aria-label="Direct link to Customize handler prefixes" title="Direct link to Customize handler prefixes">​</a></h3>
<p>It&#x27;s possible to customize server HTTP handler endpoints. To do this Centrifugo supports several options:</p>
<ul>
<li><code>admin.handler_prefix</code> (default <code>&quot;&quot;</code>) - to control Admin panel URL prefix</li>
<li><code>websocket.handler_prefix</code> (default <code>&quot;/connection/websocket&quot;</code>) - to control WebSocket URL prefix</li>
<li><code>http_stream.handler_prefix</code> (default <code>&quot;/connection/http_stream&quot;</code>) - to control HTTP-streaming URL prefix</li>
<li><code>sse.handler_prefix</code> (default <code>&quot;/connection/sse&quot;</code>) - to control SSE/EventSource URL prefix</li>
<li><code>emulation.handler_prefix</code> (default <code>&quot;/emulation&quot;</code>) - to control emulation endpoint prefix</li>
<li><code>uni_sse.handler_prefix</code> (default <code>&quot;/connection/uni_sse&quot;</code>) - to control unidirectional Eventsource URL prefix</li>
<li><code>uni_http.stream_handler_prefix</code> (default <code>&quot;/connection/uni_http_stream&quot;</code>) - to control unidirectional HTTP streaming URL prefix</li>
<li><code>uni_websocket.handler_prefix</code> (default <code>&quot;/connection/uni_websocket&quot;</code>) - to control unidirectional WebSocket URL prefix</li>
<li><code>http_api.handler_prefix</code> (default <code>&quot;/api&quot;</code>) - to control HTTP API URL prefix</li>
<li><code>prometheus.handler_prefix</code> (default <code>&quot;/metrics&quot;</code>) - to control Prometheus URL prefix</li>
<li><code>health.handler_prefix</code> (default <code>&quot;/health&quot;</code>) - to control health check URL prefix</li>
</ul>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="disable-default-endpoints">Disable default endpoints<a href="#disable-default-endpoints" class="hash-link" aria-label="Direct link to Disable default endpoints" title="Direct link to Disable default endpoints">​</a></h3>
<p>Centrifugo starts with bidirectional WebSocket and HTTP API enabled.</p>
<p>To disable websocket endpoint set <code>websocket.disabled</code> boolean option to <code>true</code>.</p>
<p>To disable API endpoint set <code>http_api.disabled</code> boolean option to <code>true</code>.</p>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="signal-handling">Signal handling<a href="#signal-handling" class="hash-link" aria-label="Direct link to Signal handling" title="Direct link to Signal handling">​</a></h2>
<p>It&#x27;s possible to send HUP signal to Centrifugo to reload a configuration:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">kill -HUP &lt;PID&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Though at moment <strong>this will only reload token secrets and channel options (top-level and namespaces)</strong>.</p>
<p>Centrifugo tries to gracefully shut down client connections when SIGINT or SIGTERM signals are received. By default, the maximum graceful shutdown period is 30 seconds but can be changed using <code>shutdown_timeout</code> (integer, in seconds) configuration option.</p>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="anonymous-usage-stats">Anonymous usage stats<a href="#anonymous-usage-stats" class="hash-link" aria-label="Direct link to Anonymous usage stats" title="Direct link to Anonymous usage stats">​</a></h2>
<p>Centrifugo periodically sends anonymous usage information (once in 24 hours). That information is impersonal and does not include sensitive data, passwords, IP addresses, hostnames, etc. Only counters to estimate version and installation size distribution, and feature usage.</p>
<p>Please do not disable usage stats sending without reason. If you depend on Centrifugo – sure you are interested in further project improvements. Usage stats help us understand Centrifugo use cases better, concentrate on widely-used features, and be confident we are moving in the right direction. Developing in the dark is hard, and decisions may be non-optimal.</p>
<p>To disable sending usage stats set <code>usage_stats_disable</code> option:</p>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockTitle_Ktv7">config.json</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token property">&quot;usage_stats&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token property">&quot;disabled&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token boolean" style="color:rgb(255, 88, 116)">true</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="setting-time-duration-options">Setting time duration options<a href="#setting-time-duration-options" class="hash-link" aria-label="Direct link to Setting time duration options" title="Direct link to Setting time duration options">​</a></h2>
<p>Time durations in Centrifugo can be set using strings where duration value and unit are both provided. For example, to set 5 seconds duration use <code>&quot;5s&quot;</code>.</p>
<p>The minimal time resolution is 1ms. Some options of Centrifugo only support second precision (for example <code>history_ttl</code> channel option).</p>
<p>Valid time units are <code>ms</code> (milliseconds), <code>s</code> (seconds), <code>m</code> (minutes), <code>h</code> (hours).</p>
<p>Some examples:</p>
<div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token string" style="color:rgb(195, 232, 141)">&quot;1000ms&quot;</span><span class="token plain"> </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// 1000 milliseconds</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token string" style="color:rgb(195, 232, 141)">&quot;1s&quot;</span><span class="token plain">     </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// 1 second</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token string" style="color:rgb(195, 232, 141)">&quot;12h&quot;</span><span class="token plain">    </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// 12 hours</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token string" style="color:rgb(195, 232, 141)">&quot;720h&quot;</span><span class="token plain">   </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// 30 days</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="tls-config-object">TLS config object<a href="#tls-config-object" class="hash-link" aria-label="Direct link to TLS config object" title="Direct link to TLS config object">​</a></h2>
<p>TLS configurations in Centrifugo can be set using the following TLS object:</p>
<table><thead><tr><th>Field name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><code>enabled</code></td><td>bool</td><td>Turns on using TLS</td></tr><tr><td><code>cert_pem</code></td><td>string</td><td>Certificate in PEM format. Raw string, base64 PEM encoded string or path to a PEM file supported as a value. See more details below.</td></tr><tr><td><code>key_pem</code></td><td>string</td><td>Key in PEM format. Same values as for <code>cert_pem</code> supported.</td></tr><tr><td><code>server_ca_pem</code></td><td>string</td><td>Server root CA certificate in PEM format used by client to verify server&#x27;s certificate during handshake. Same values as for <code>cert_pem</code> supported.</td></tr><tr><td><code>client_ca_pem</code></td><td>string</td><td>Client CA certificate in PEM format used by server to verify client&#x27;s certificate during handshake. Same values as for <code>cert_pem</code> supported.</td></tr><tr><td><code>insecure_skip_verify</code></td><td>bool</td><td>Turns off server certificate verification.</td></tr><tr><td><code>server_name</code></td><td>string</td><td>Used to verify the hostname on the returned certificates.</td></tr></tbody></table>
<ul>
<li><strong>Source Priority:</strong> The configuration allows specifying TLS settings from multiple sources: raw PEM string, base64 PEM encoded string, path to a PEM file. The sources are prioritized in the following order:<!-- -->
<ol>
<li>Raw PEM</li>
<li>Base64 encoded PEM</li>
<li>PEM file path</li>
</ol>
</li>
<li><strong>Insecure Option:</strong> The <code>insecure_skip_verify</code> option can be used to turn off server certificate verification, which is not recommended for production environments.</li>
<li><strong>Hostname Verification:</strong> The <code>server_name</code> is utilized to verify the hostname on the returned certificates, providing an additional layer of security.</li>
</ul>
<p>So in the configuration the usage of TLS config for HTTP server may be like this:</p>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockTitle_Ktv7">config.json</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token property">&quot;http_server&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token property">&quot;tls&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token property">&quot;enabled&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token boolean" style="color:rgb(255, 88, 116)">true</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token property">&quot;cert_pem&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;/path/to/cert.pem&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token property">&quot;key_pem&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;/path/to/key.pem&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="setting-namespaces-over-env">Setting namespaces over env<a href="#setting-namespaces-over-env" class="hash-link" aria-label="Direct link to Setting namespaces over env" title="Direct link to Setting namespaces over env">​</a></h2>
<p>While setting most options in Centrifugo over env is pretty straightforward. Setting namespaces is a bit special:</p>
<div class="language-console codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-console codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">CENTRIFUGO_NAMESPACES=&#x27;[{&quot;name&quot;: &quot;ns1&quot;}, {&quot;name&quot;: &quot;ns2&quot;}]&#x27; ./centrifugo</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>I.e. <code>CENTRIFUGO_NAMESPACES</code> environment variable should be a valid JSON string that represents namespaces array.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"><a href="https://github.com/centrifugal/centrifugal.dev/edit/main/docs/server/configuration.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--next" href="/docs/server/server_api"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Server API walkthrough</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#lost-in-options-" class="table-of-contents__link toc-highlight">Lost in options? 😵‍💫</a></li><li><a href="#configuration-sources" class="table-of-contents__link toc-highlight">Configuration sources</a></li><li><a href="#command-line-flags" class="table-of-contents__link toc-highlight">Command-line flags</a></li><li><a href="#os-environment-variables" class="table-of-contents__link toc-highlight">OS environment variables</a></li><li><a href="#configuration-file" class="table-of-contents__link toc-highlight">Configuration file</a></li><li><a href="#config-file-formats" class="table-of-contents__link toc-highlight">Config file formats</a><ul><li><a href="#json-config-format" class="table-of-contents__link toc-highlight">JSON config format</a></li><li><a href="#toml-config-format" class="table-of-contents__link toc-highlight">TOML config format</a></li><li><a href="#yaml-config-format" class="table-of-contents__link toc-highlight">YAML config format</a></li></ul></li><li><a href="#validation-and-warnings-on-start" class="table-of-contents__link toc-highlight">Validation and warnings on start</a></li><li><a href="#http_server" class="table-of-contents__link toc-highlight"><code>http_server</code></a><ul><li><a href="#http_serverport" class="table-of-contents__link toc-highlight"><code>http_server.port</code></a></li><li><a href="#http_serveraddress" class="table-of-contents__link toc-highlight"><code>http_server.address</code></a></li><li><a href="#http_servertls" class="table-of-contents__link toc-highlight"><code>http_server.tls</code></a></li><li><a href="#http_servertls_autocert" class="table-of-contents__link toc-highlight"><code>http_server.tls_autocert</code></a></li><li><a href="#http_servertls_external" class="table-of-contents__link toc-highlight"><code>http_server.tls_external</code></a></li><li><a href="#http_serverinternal_port" class="table-of-contents__link toc-highlight"><code>http_server.internal_port</code></a></li><li><a href="#http_serverinternal_address" class="table-of-contents__link toc-highlight"><code>http_server.internal_address</code></a></li><li><a href="#http_serverinternal_tls" class="table-of-contents__link toc-highlight"><code>http_server.internal_tls</code></a></li><li><a href="#http_serverhttp3" class="table-of-contents__link toc-highlight"><code>http_server.http3</code></a></li></ul></li><li><a href="#log" class="table-of-contents__link toc-highlight"><code>log</code></a><ul><li><a href="#loglevel" class="table-of-contents__link toc-highlight"><code>log.level</code></a></li><li><a href="#logfile" class="table-of-contents__link toc-highlight"><code>log.file</code></a></li></ul></li><li><a href="#engine" class="table-of-contents__link toc-highlight"><code>engine</code></a><ul><li><a href="#enginetype" class="table-of-contents__link toc-highlight"><code>engine.type</code></a></li></ul></li><li><a href="#broker" class="table-of-contents__link toc-highlight"><code>broker</code></a></li><li><a href="#presence_manager" class="table-of-contents__link toc-highlight"><code>presence_manager</code></a></li><li><a href="#http_api" class="table-of-contents__link toc-highlight"><code>http_api</code></a></li><li><a href="#grpc_api" class="table-of-contents__link toc-highlight"><code>grpc_api</code></a></li><li><a href="#client" class="table-of-contents__link toc-highlight"><code>client</code></a><ul><li><a href="#clientallowed_origins" class="table-of-contents__link toc-highlight"><code>client.allowed_origins</code></a></li><li><a href="#clienttoken" class="table-of-contents__link toc-highlight"><code>client.token</code></a></li><li><a href="#clientsubscription_token" class="table-of-contents__link toc-highlight"><code>client.subscription_token</code></a></li><li><a href="#clientproxyconnect" class="table-of-contents__link toc-highlight"><code>client.proxy.connect</code></a></li><li><a href="#clientproxyrefresh" class="table-of-contents__link toc-highlight"><code>client.proxy.refresh</code></a></li><li><a href="#clientping_interval" class="table-of-contents__link toc-highlight"><code>client.ping_interval</code></a></li><li><a href="#clientpong_timeout" class="table-of-contents__link toc-highlight"><code>client.pong_timeout</code></a></li><li><a href="#clientqueue_max_size" class="table-of-contents__link toc-highlight"><code>client.queue_max_size</code></a></li><li><a href="#clienthistory_max_publication_limit" class="table-of-contents__link toc-highlight"><code>client.history_max_publication_limit</code></a></li><li><a href="#clientrecovery_max_publication_limit" class="table-of-contents__link toc-highlight"><code>client.recovery_max_publication_limit</code></a></li><li><a href="#clientchannel_limit" class="table-of-contents__link toc-highlight"><code>client.channel_limit</code></a></li><li><a href="#clientuser_connection_limit" class="table-of-contents__link toc-highlight"><code>client.user_connection_limit</code></a></li><li><a href="#clientconnection_limit" class="table-of-contents__link toc-highlight"><code>client.connection_limit</code></a></li><li><a href="#clientconnection_rate_limit" class="table-of-contents__link toc-highlight"><code>client.connection_rate_limit</code></a></li><li><a href="#clientqueue_max_size-1" class="table-of-contents__link toc-highlight"><code>client.queue_max_size</code></a></li><li><a href="#clientconcurrency" class="table-of-contents__link toc-highlight"><code>client.concurrency</code></a></li><li><a href="#clientstale_close_delay" class="table-of-contents__link toc-highlight"><code>client.stale_close_delay</code></a></li><li><a href="#clientuser_id_http_header" class="table-of-contents__link toc-highlight"><code>client.user_id_http_header</code></a></li><li><a href="#clientconnect_include_server_time" class="table-of-contents__link toc-highlight"><code>client.connect_include_server_time</code></a></li><li><a href="#clientallow_anonymous_connect_without_token" class="table-of-contents__link toc-highlight"><code>client.allow_anonymous_connect_without_token</code></a></li><li><a href="#clientdisallow_anonymous_connection_tokens" class="table-of-contents__link toc-highlight"><code>client.disallow_anonymous_connection_tokens</code></a></li><li><a href="#clientsubscribe_to_user_personal_channel" class="table-of-contents__link toc-highlight"><code>client.subscribe_to_user_personal_channel</code></a></li><li><a href="#clientinsecure" class="table-of-contents__link toc-highlight"><code>client.insecure</code></a></li><li><a href="#clientinsecure_skip_token_signature_verify" class="table-of-contents__link toc-highlight"><code>client.insecure_skip_token_signature_verify</code></a></li></ul></li><li><a href="#channel" class="table-of-contents__link toc-highlight"><code>channel</code></a><ul><li><a href="#channelwithout_namespace" class="table-of-contents__link toc-highlight"><code>channel.without_namespace</code></a></li><li><a href="#channelnamespaces" class="table-of-contents__link toc-highlight"><code>channel.namespaces</code></a></li><li><a href="#channelhistory_meta_ttl" class="table-of-contents__link toc-highlight"><code>channel.history_meta_ttl</code></a></li><li><a href="#channelproxysubscribe" class="table-of-contents__link toc-highlight"><code>channel.proxy.subscribe</code></a></li><li><a href="#channelproxypublish" class="table-of-contents__link toc-highlight"><code>channel.proxy.publish</code></a></li><li><a href="#channelproxysub_refresh" class="table-of-contents__link toc-highlight"><code>channel.proxy.sub_refresh</code></a></li><li><a href="#channelproxysubscribe_stream" class="table-of-contents__link toc-highlight"><code>channel.proxy.subscribe_stream</code></a></li><li><a href="#channelproxystate" class="table-of-contents__link toc-highlight"><code>channel.proxy.state</code></a></li><li><a href="#chanelproxycache_empty" class="table-of-contents__link toc-highlight"><code>chanel.proxy.cache_empty</code></a></li><li><a href="#channelmax_length" class="table-of-contents__link toc-highlight"><code>channel.max_length</code></a></li></ul></li><li><a href="#rpc" class="table-of-contents__link toc-highlight"><code>rpc</code></a><ul><li><a href="#rpcwithout_namespace" class="table-of-contents__link toc-highlight"><code>rpc.without_namespace</code></a></li><li><a href="#rpcnamespaces" class="table-of-contents__link toc-highlight"><code>rpc.namespaces</code></a></li><li><a href="#rpcnamespace_boundary" class="table-of-contents__link toc-highlight"><code>rpc.namespace_boundary</code></a></li><li><a href="#rpcping" class="table-of-contents__link toc-highlight"><code>rpc.ping</code></a></li></ul></li><li><a href="#websocket" class="table-of-contents__link toc-highlight"><code>websocket</code></a></li><li><a href="#sse" class="table-of-contents__link toc-highlight"><code>sse</code></a></li><li><a href="#http_stream" class="table-of-contents__link toc-highlight"><code>http_stream</code></a></li><li><a href="#webtransport" class="table-of-contents__link toc-highlight"><code>webtransport</code></a></li><li><a href="#uni_websocket" class="table-of-contents__link toc-highlight"><code>uni_websocket</code></a></li><li><a href="#uni_sse" class="table-of-contents__link toc-highlight"><code>uni_sse</code></a></li><li><a href="#uni_http_stream" class="table-of-contents__link toc-highlight"><code>uni_http_stream</code></a></li><li><a href="#uni_grpc" class="table-of-contents__link toc-highlight"><code>uni_grpc</code></a></li><li><a href="#emulation" class="table-of-contents__link toc-highlight"><code>emulation</code></a><ul><li><a href="#emulationmax_request_body_size" class="table-of-contents__link toc-highlight"><code>emulation.max_request_body_size</code></a></li></ul></li><li><a href="#admin" class="table-of-contents__link toc-highlight"><code>admin</code></a><ul><li><a href="#adminenabled" class="table-of-contents__link toc-highlight"><code>admin.enabled</code></a></li></ul></li><li><a href="#debug" class="table-of-contents__link toc-highlight"><code>debug</code></a><ul><li><a href="#debugenabled" class="table-of-contents__link toc-highlight"><code>debug.enabled</code></a></li></ul></li><li><a href="#health" class="table-of-contents__link toc-highlight"><code>health</code></a><ul><li><a href="#healthenabled" class="table-of-contents__link toc-highlight"><code>health.enabled</code></a></li></ul></li><li><a href="#prometheus" class="table-of-contents__link toc-highlight"><code>prometheus</code></a><ul><li><a href="#prometheusenabled" class="table-of-contents__link toc-highlight"><code>prometheus.enabled</code></a></li><li><a href="#prometheusinstrument_http_handlers" class="table-of-contents__link toc-highlight"><code>prometheus.instrument_http_handlers</code></a></li></ul></li><li><a href="#swagger" class="table-of-contents__link toc-highlight"><code>swagger</code></a><ul><li><a href="#swaggerenabled" class="table-of-contents__link toc-highlight"><code>swagger.enabled</code></a></li></ul></li><li><a href="#proxies" class="table-of-contents__link toc-highlight"><code>proxies</code></a></li><li><a href="#consumers" class="table-of-contents__link toc-highlight"><code>consumers</code></a></li><li><a href="#opentelemetry" class="table-of-contents__link toc-highlight"><code>opentelemetry</code></a></li><li><a href="#graphite" class="table-of-contents__link toc-highlight"><code>graphite</code></a></li><li><a href="#shutdown" class="table-of-contents__link toc-highlight"><code>shutdown</code></a><ul><li><a href="#shutdowntimeout" class="table-of-contents__link toc-highlight"><code>shutdown.timeout</code></a></li></ul></li><li><a href="#pid_file" class="table-of-contents__link toc-highlight"><code>pid_file</code></a></li><li><a href="#custom-internal-port" class="table-of-contents__link toc-highlight">Custom internal port</a></li><li><a href="#endpoint-management" class="table-of-contents__link toc-highlight">Endpoint management</a><ul><li><a href="#default-endpoints" class="table-of-contents__link toc-highlight">Default endpoints</a></li><li><a href="#customize-handler-prefixes" class="table-of-contents__link toc-highlight">Customize handler prefixes</a></li><li><a href="#disable-default-endpoints" class="table-of-contents__link toc-highlight">Disable default endpoints</a></li></ul></li><li><a href="#signal-handling" class="table-of-contents__link toc-highlight">Signal handling</a></li><li><a href="#anonymous-usage-stats" class="table-of-contents__link toc-highlight">Anonymous usage stats</a></li><li><a href="#setting-time-duration-options" class="table-of-contents__link toc-highlight">Setting time duration options</a></li><li><a href="#tls-config-object" class="table-of-contents__link toc-highlight">TLS config object</a></li><li><a href="#setting-namespaces-over-env" class="table-of-contents__link toc-highlight">Setting namespaces over env</a></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Contact us</div><ul class="footer__items clean-list"><li class="footer__item"><a href="mailto:hello@centrifugal.dev" target="_blank" rel="noopener noreferrer" class="footer__link-item">Send e-mail</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://t.me/joinchat/U57MI8Lam9mhpuhd" target="_blank" rel="noopener noreferrer" class="footer__link-item">Telegram<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://discord.gg/tYgADKx" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://twitter.com/centrifugalabs" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/docs/attributions">Attributions</a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2025 Centrifugal Labs LTD</div></div></div></footer></div>
</body>
</html>